# s-bars.com - Снежный барс <!-- omit in toc -->

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)[![Netlify Status](https://api.netlify.com/api/v1/badges/b08c700d-a97c-4f7d-aa81-76c0d7288b2f/deploy-status)](https://app.netlify.com/sites/s-bars/deploys)

Этот проект Open Source и доступен под лицезией [MIT](https://github.com/alextim/s-bars/blob/main/LICENSE)

**Оглавление**

- [Введение](#введение)
  - [Особенности](#особенности)
  - [Лимиты бесплатных сервисов (на 1 марта 2021 г)](#лимиты-бесплатных-сервисов-на-1-марта-2021-г)
    - [Netlify](#netlify)
      - [Хостинг](#хостинг)
      - [Бессерверные функции](#бессерверные-функции)
    - [SendGrid](#sendgrid)
- [Требования к владельцу сайта](#требования-к-владельцу-сайта)
- [Инсталляция](#инсталляция)
  - [Предварительные условия](#предварительные-условия)
  - [Пошаговая инструкция](#пошаговая-инструкция)
    - [Настройка **Git** для работы с подмодулями](#настройка-git-для-работы-с-подмодулями)
    - [Клонирование данных сайта из защищенного репозитория-источника](#клонирование-данных-сайта-из-защищенного-репозитория-источника)
    - [Клонирование кода сайта из публичного репозитория-источника](#клонирование-кода-сайта-из-публичного-репозитория-источника)
    - [Настройка локального репозитория для работы с защищенным репозиторием](#настройка-локального-репозитория-для-работы-с-защищенным-репозиторием)
    - [Подключение вашего репозитория к хостингу и построение сайта](#подключение-вашего-репозитория-к-хостингу-и-построение-сайта)
- [Публикация изменений](#публикация-изменений)
- [Разрешение проблем построения сайта](#разрешение-проблем-построения-сайта)
  - [Сайт не обновляется](#сайт-не-обновляется)
- [Правила именования файлов](#правила-именования-файлов)
- [SEO](#seo)
- [Специальные изображения](#специальные-изображения)
- [Ссылки](#ссылки)
  - [Внешние ссылки](#внешние-ссылки)
  - [Внутренние ссылки](#внутренние-ссылки)
- [Настройки](#настройки)
  - [Общие](#общие)
  - [Языки](#языки)
  - [Индексирование](#индексирование)
  - [Компиляция](#компиляция)
    - [Режим разработки](#режим-разработки)
    - [Режим продакшн](#режим-продакшн)
- [Содержимое сайта](#содержимое-сайта)
- [Устройство файла страницы](#устройство-файла-страницы)
  - [Основной текст](#основной-текст)
  - [Встака видео с YouTube](#встака-видео-с-youtube)
  - [Варианты вставки изображений](#варианты-вставки-изображений)
    - [Синтаксис Markdown](#синтаксис-markdown)
    - [Синтаксис HTML - тег **img**](#синтаксис-html---тег-img)
      - [Одиночное изображение без стилей](#одиночное-изображение-без-стилей)
      - [С предустановленными стилями](#с-предустановленными-стилями)
  - [Описание полей frontmatter](#описание-полей-frontmatter)
  - [Правила формирования путей](#правила-формирования-путей)
- [Страницы сайта](#страницы-сайта)
  - [Страница вида "Услуга"](#страница-вида-услуга)
  - [Страница вида "Тип объекта"](#страница-вида-тип-объекта)
  - [Страница вида "Пост"](#страница-вида-пост)
  - [Собственно Страницы](#собственно-страницы)
    - [Главная страница](#главная-страница)
    - [Cтраница "Услуги"](#cтраница-услуги)
    - [Cтраница "Типы объектов"](#cтраница-типы-объектов)
    - [Cтраница "Прайс"](#cтраница-прайс)
    - [Cтраница "Блог"](#cтраница-блог)
    - [Cтраница "О нас"](#cтраница-о-нас)
    - [Cтраница "Контакты"](#cтраница-контакты)
    - [Cтраница "Конфиденциальность"](#cтраница-конфиденциальность)
    - [Cтраница "Послать запрос"](#cтраница-послать-запрос)
    - [Cтраница "404"](#cтраница-404)
    - [Cтраница "Услуги для частного клиента"](#cтраница-услуги-для-частного-клиента)
- [Данные для формирования элементов сайта](#данные-для-формирования-элементов-сайта)
  - [Общие для всех языков](#общие-для-всех-языков)
    - [Список полей](#список-полей)
    - [Поле **openingHours** (Рабочее время)](#поле-openinghours-рабочее-время)
  - [Языкозависимые данные](#языкозависимые-данные)
    - [Навигация в футере](#навигация-в-футере)
    - [Главное меню](#главное-меню)
    - [Ссылки на соц.сети](#ссылки-на-соцсети)
    - [Адрес](#адрес)
    - [Переводы](#переводы)

## Введение

### Особенности

Этот небольшой сайт создан по технологии [JAMStack](https://jamstack.org/).

Для хранения данных используются форматы [YAML](https://yaml.org/) и [Markdown](https://daringfireball.net/projects/markdown/).

Исходные файлы сайта создаются, хранятся и редактируются на локальном компьютере.
Изменения данных отслеживаются распределенной системой контроля версий [Git](https://git-scm.com/).

По команде пользователя система контроля версий [Git](https://git-scm.com/) синхронизирует изменения данных на локальном компьютере с облачным репозиторием [GitHub](https://github.com/).

Облачный репозиторий [GitHub](https://github.com/) связан с облачным провайдером [Netlify](https://netlify.com), который подписан на изменения в вашем репозитории.

После каждого изменения провайдер автоматически скачивает обновленные данные из вашего репозитория себе, запускает генератор статических сайтов [Gatsby](https://www.gatsbyjs.com/), компилирует и публикует обновленную версию сайта.


Для обработки форм и отправки почты используются [бессерверные функции](https://docs.netlify.com/functions/overview/) провайдера и облачный почтовый сервер [SendGrid](https://sendgrid.com/).


Технология JAMStack в комлексе с бессерверными вычислениями позволяют не разворачивать собственный сервер, избежать затрат на хостинг и обслуживание. Статический сайт безопасен, устойчив к атакам и вирусам, обладает хорошим быстродействием.

### Лимиты бесплатных сервисов (на 1 марта 2021 г)

#### Netlify

Предполагается, что сайт попадает под условия пакета "STARTER" компании Netlify.
Конечное решение о возможности бесплатного размещения вашего сайта принимает компания Netlify.
Подробнее [здесь](https://www.netlify.com/tos).

##### Хостинг

Время на построение сайта (build time) - 300 минут в месяц.

В среднем ваш двуязычный сайт, состоящий из 8 страниц, 9 услуг, 6 типов объектов и 30 постов строится менее, чем за 4 минуты. Итого вы можете в рамках бесплатного пакета обновить сайт около 80 раз в месяц или 2-3 раза в сутки.


##### Бессерверные функции

- До 125000 вызовов функций в месяц
- До 100 часов времени исполнения в месяц


#### SendGrid

Посылка 40000 писем за первые 30 дней после регистрации, затем 100 писем в день.

## Требования к владельцу сайта

- Элементарный английский.
- Умение пользоваться командной строкой.
- Умение пользоваться текстовым и графическим редакторами.
- Базовые знания форматов HTML, Markdown и YAML.
- Понимание SEO.
  
В сети есть много ресурсов об устройстве этих форматов. Ниже несколько ссылок для ознакомления.

HTML:

- [Wiki](https://ru.wikipedia.org/wiki/HTML)

Markdown:

- [Краткое руководство](https://paulradzkov.com/2014/markdown_cheatsheet/)
- [markdownguide.org](https://www.markdownguide.org/)

YAML:

- [Wiki](https://ru.wikipedia.org/wiki/YAML)
- [Работа в YAML](https://starkovden.github.io/working-in-YAML.html)
- [YAML Ain’t Markup Language (YAML™) Version 1.2](https://yaml.org/spec/1.2/spec.html)


## Инсталляция

Исходный код сайта выложен в открытый репозиторий `https://github.com/alextim/s-bars` под лицензией MIT.

Но сами данные для построения сайта (тексты, посты, страницы, изображения и тп) расположены в отдельном защищенном репозитории `https://github.com/alextim/s-bars.content`, что не позволяет скопировать сайт путем простого клонирования.

### Предварительные условия

1. Учетная запись на [SendGrid](https://sendgrid.com). Необходимо получить API key и верифицировать ваш e-mail.
1. Учетная запись на [GitHub](https://github.com).
1. Учетная запись на  [Netlify](https://netlify.com).
1. Инсталлировать **Git** на ваш локальный компьютер. Ссылка для скачивания [здесь](https://git-scm.com/download).
1. Текстовый редактор.
1. Графический редактор для подготовки изображений. Например **Photoshop**.
1. Права доступа к защищенному репозиторию с данными.

:bulb: Не пользуйтесь `Notepad` или `Microsoft Word` для редактирования содержимого сайта!
Рекомендуется Visual Studio Code (**VSC**). Ссылка для скачивания [здесь](https://code.visualstudio.com/download).
Желательно дополнительно установить расширения для **VSC**: "YAML Language Support by Red Hat", "Markdown All in One", "markdownlint.
**VSC** облегчает редактирование Markdown и YAML, а также позволяет не пользоваться командной строкой при работе с системой контроля версий и удаленным репозиторием.

Аббревиатуры:

- `[CONTENT_DIR]` - имя папки на локальном компьютере с данными сайта.
- `[PROJECT_DIR]` - имя папки на локальном компьютере с кодом сайта.
- `{locale}` - язык, `uk` или `ru`

Допущения

`[CONTENT_DIR]` и `[PROJECT_DIR]` должны находится в одной папке.

### Пошаговая инструкция

#### Настройка **Git** для работы с подмодулями

1. Запустите командную строку на вашем компьютере.  
   Для Windows это будет так: `Start` -> `Windows System` -> `Command Prompt`.
1. Запустите команду:

```cmd
git config --global submodule.recurse true
```

#### Клонирование данных сайта из защищенного репозитория-источника

1. Зайдите в вашу учетную запись на [GitHub](https://github.com).
1. Откройте браузером защищенный репозиторий-источник с данными сайта по [этой ссылке](https://github.com/alextim/s-bars.content).
1. Создайте fork из репозитория-источника - нажмите кнопку **Fork** (правый верхний угол страницы).
1. После завершения процесса нажмите кнопку **Code**.
1. Скопируйте URL вашего репозитория.  
   Адрес будет выглядеть, как здесь: `https://github.com/ИМЯ-ВАШЕЙ-УЧЕТНОЙ-ЗАПИСИ/s-bars.content.git`.
1. Запустите командную строку на вашем компьютере.  
1. Перейдите в желаемую папку при помощи команды `cd` (change directory).
1. Клонируйте ваш репозиторий-fork в выбранную папку следующей командой:

```cmd
git clone https://github.com/ИМЯ-ВАШЕЙ-УЧЕТНОЙ-ЗАПИСИ/s-bars.content.git
```

#### Клонирование кода сайта из публичного репозитория-источника

1. Откройте браузером публичный репозиторий-источник с кодом сайта по [этой ссылке](https://github.com/alextim/s-bars).
1. Создайте fork из репозитория-источника - нажмите кнопку **Fork** (правый верхний угол страницы).
1. После завершения процесса нажмите кнопку **Code**.
1. Скопируйте URL вашего репозитория.  
   Адрес будет выглядеть, как здесь: `https://github.com/ИМЯ-ВАШЕЙ-УЧЕТНОЙ-ЗАПИСИ/s-bars.git`.
1. Запустите командную строку на вашем компьютере.  
1. Перейдите в желаемую папку при помощи команды `cd` (change directory).
1. Клонируйте ваш репозиторий-fork в выбранную папку следующей командой:

```cmd
git clone --recurse-submodules https://github.com/ИМЯ-ВАШЕЙ-УЧЕТНОЙ-ЗАПИСИ/s-bars.git
```

#### Настройка локального репозитория для работы с защищенным репозиторием

Откройте текстовым редактором файл `[PROJECT_DIR]\.gitmodules`.

Его содержимое должно выглядеть так:

```
[submodule "s-bars.content"]
  path = s-bars.content
  url = git@github.com:ИМЯ-ВАШЕГО-РЕПОЗИТОРИЯ/s-bars.content.git
```

Если это не так, то отредактируйте его.

#### Подключение вашего репозитория к хостингу и построение сайта

1. Зайдите в вашу учетную запись на [Netlify](https://netlify.com).
2. Нажмите кнопку **New site from Git**.
3. Нажмите кнопку **GitHub** на следующем экране.
4. Авторизуйте Netlify для доступа к GitHub в несколько шагов.
   - Нажмите кнопку  **Authorize Application**.
   - Нажмите кнопку  **Install** в последующем диалоговом окне.
   - Введите ваш GitHub пароль.
5. Выберите репозиторий `s-bars`.
6. Проверьте **Site settings**.  
   Следующие поля должны содержать такие значения:
   - **Build command**: `yarn build`
   - **Publish directoty**: `public`
7. Перейдите в раздел **Environment variables**.  
   Добавьте переменные:
   |  Key              | Value
   |---                |---
   | SENDGRID_API_KEY  | ваш SendGrid API ключ
   | SENDGRID_TO_EMAIL | ваш e-mail, верифицированный SendGrid
   | WARNINGS          | true
8. Дайте Netlify доступ к вашему защищенному репозиторию на GitHub
   - Перейдите в раздел **Deploy key**.
   - Нажмите кнопку **Generate public deploy key**
   - Скопируйте в буфер обмена значение только что сгененерированного ключа.
   - Откройте в новой вкладке браузера защищенный репозиторий с данными сайта `https://github.com/ИМЯ-ВАШЕЙ-УЧЕТНОЙ-ЗАПИСИ/s-bars.content.git`.
   - Зайдите в **Settings** -> **Deploy keys**
   - Нажмите кнопку **Add deploy key**
   - В поле **Title** напишите `Netlify`, в поле **Key** вставьте из буфера обмена ключ, **Allow write access** оставьте невыбранным
   - Нажмите кнопку **Add key**, после чего Netlify получит доступ к вашему защищенному репозиторию с данными
9. Вернитесь обратно на сайт Netlify. Нажмите кнопку **Deploy site**.
   Netlify начнет компиляцию сайта. Через несколько минут ваш сайт будет on-line!

## Публикация изменений


Сначала загружаем самую свежую версию данных сайта из удаленного защищенного репозитория. Это необходимо сделать до начала каких-либо правок на локальном компьютере, чтобы избежать ручного разрешения конфликтов слияния версий разных пользователей. Если правка данных производится только одним пользователем и на одном компьютере, то этот этап можно пропустить.

Правим данные на локальном компьютере, сохраняем результаты работы в локальный репозиторий и затем синхронизируем локальный репозиторий с удаленным защищенным.

Переходим в локальный репозиторий с кодом сайта, обновляем его из удаленного защищенного репозитория с данными и затем обновляем удаленный публичный репозиторий с кодом.


Netlify сам отследит все изменения в удаленном репозитории с кодом, скомпилирует и опубликует обновленную версию сайта.


Пошаговая схема процесса обновления сайта
![Пошаговая схема процесса обновления сайта](https://github.com/alextim/s-bars/blob/main/docs/git-workflow.svg)

Шаг 1. Получите последнюю версию данных из удаленного защищенного репозитория:

1. Запустите командную строку.
1. Перейдите в папку, где хранятся данные сайта, при помощи команды `cd`.
1. Выполните команду

   ```bush
   git pull
   ```

Отредактируйте данные сайта на локальном компьютере.


Шаг 2. Сохраните результаты редактирования в локальный репозиторий

1. Запустите командную строку.
1. Перейдите в папку на локальном компьютере, где хранятся данные сайта, при помощи команды `cd`.
1. Запустите последовательно следующие команды:

```bush
git add .
git commit -m 'ВАШ КОММЕНТАРИЙ'
```

Шаг 3. Обновите данные в удаленным защищенном репозитории из локального

```bush
git push
```

Шаг 4. Синхронизация подмодуля данных в локальном репозитории из удаленного защищенного репозитория с данными.

Перейдите в папку на локальном компьютере, где хранится код сайта, при помощи команды `cd` и выполните следующую команду:

```bush
git submodule update --remote
```

Шаг 5. Обновление подмодуля данных в локальном репозитории с кодом.

Выполните команды:

```bush
git add .
git commit -m 'ВАШ КОММЕНТАРИЙ'
```

Шаг 6. Обновление публичного репозитория с кодом

```bush
git push
```

netlify отслеживает все изменения в удаленном репозитории с кодом и автоматически компилирует и публикует сайт.

## Разрешение проблем построения сайта

### Сайт не обновляется

1. Зайдите в вашу учетную запись на [Netlify](https://netlify.com).
2. Нажмите **Sites**
3. Выберите ваш сайт
4. Нажмите **Deploys**


Вы попадете на страницу со списком всех компиляций вашего сайта, отсортированный по времени в порядке убывания.


Если последняя компиляция в статусе **Published** (зеленая метка)

1. Нажмите кнопку **Trigger deploy**
1. Нажмите **Clear cache and deploy site**
1. Очистите кеш браузера, сайт должен обновиться.


Если последняя компиляция в статусе **Failed** (красная метка)

1. Нажмите на стрелочку `>` справа для перехода на страницу **Deploy details**
2. Просмотрите содержимое окна **Deploy log** и найдите описание ошибки. Ошибка будет подсвечена красным.
Скорее всего у вас не правильно оформлен файл Markdown или Yaml. В логе будет отражено название файла и место, где неправильно оформлено. Если это так, то исправьте ошибки оформления на локальной машине, сделайте `commit` и `push`. Сайт будет построен автоматически.

Если причина другая, то потребуется помощь программиста.

## Правила именования файлов

- самообъясняющие имена
- только English алфавит
- все символы в нижнем регистре
- без пробелов
- не использовать транслитерацию
- используйте дефис `-` для разделения слов
- без точек, подчеркиваний или специальных символов
- желательно наличие ключевых слов в имени файла для SEO
  
:heavy_check_mark: хорошо:

- `weekend-with-family.jpg`
- `my-awesome-file.png`

:x: плохо:

- `weekend-with-family.JPG` - расширение имени файла в верхнем регистре
- `asdasda-cajjqq1sd.jpg` - непонятное имя
- `мой-красивый-файл.jpg`- не английский алфавит
- `MyAwesomeFile.jpg` - заглавные буквы
- `moi-prijatnii-fail.jpg` - транслитерация
- `my_awesome_file.jpg` - подчеркивания
- `my.awesome.file.jpg` - точки

[Рекомендации](https://developers.google.com/style/filenames) от Google.

## SEO

Для поисковика содержимое страницы должно быть по меньшей мере 300 слов.

Источник: [The Beginner's Guide to SEO](https://moz.com/beginners-guide-to-seo)

| Поле из Frontmatter | Рекомендованая длина  | Значение |Первоисточник                                                                                                                                                                       | Комментарий                                                                |
| ----------------- | ---------| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------- |
| **metaTitle**         | до 50-60 символов, строка будет обрезана гуглом визуально до 600px на странице SERP | `Главная ключевая фраза` `Второстепенная ключевая фраза` \| `Ваш бренд`<br>Уникальное для каждой страницы сайта.    | [What is a meta title tag?](https://moz.com/learn/seo/title-tag), [Create good titles and snippets in Search Results](https://support.google.com/webmasters/answer/35624?hl=en) | Если **metaTitle** отсутствует, то поле **title** будет использовано          |
| **metaDescription**   | 50-160 символов  | 1 параграф из 1-2 предложений. Без кавычек `"` и спецсимволов.<br>Уникальное для каждой страницы сайта.      | [What is a meta description?](https://moz.com/learn/seo/meta-description), [How to create the right meta description](https://yoast.com/meta-descriptions/)                     | Если **metaDescription** отсутствует, то поле **description** будет использовано |
| cover: **alt**               | до 125 символов | | [What is Alt Text?](https://moz.com/learn/seo/alt-text)                                                                                                                         |                                                          |
| image: **alt**

:bulb: _В случае, если отсутствуют и **metaDescription** и **description**, то будет использовано соответствующее языку страницы содержимое поля **siteDescription** из файла конфигурации `[PROJECT_DIR]/config/locales.js`._

## Специальные изображения

Пути указаны относительно папки `[PROJECT_DIR]`.

| Назначение  | Имя файла                       | Папка                                  | Пропорции   | Размер, px              | Количество                                  |
| ----------- | ------------------------------- | -------------------------------        | ----------- | ----------------------- | --------------
| Site        | favicon.ico                     | ./static                   | 1 x 1       | 16 x 16                 | 1              | [Wiki](https://en.wikipedia.org/wiki/Favicon) |
| OpenGraph   | og-banner-`{locale}`.jpg          | ./static/assets/images     | 1.9 x 1     | 1200 x 630<br>600 x 315 | 1 на каждый язык 
| Twitter     | twitter-banner-2x1-`{locale}`.jpg | ./static/assets/images     | 2 x 1       | 600 x 300               | 1 на каждый язык
| Twitter     | twitter-banner-1x1-`{locale}`.jpg | ./static/assets/images     | 1 x 1       | 450 x 450               | 1 на каждый язык
| schema.org  | business-photo.jpg              | ./static/assets/images     |             |                         | 1-3
| schema.org  | logo.svg                        | ./static/assets/images     |             |                         | 1
| webmainfest | icon.png                        | ./src/assets/images        | 1 x 1       | > 512 x 512             | 1

*Об **favicon.ico** можно почитать [здесь](https://en.wikipedia.org/wiki/Favicon).

*Установите, если надо, свои размеры изображений для OpenGraph и Twitter в файле `[PROJECT_DIR]/config/website.js`*

*Для OpenGraph и Twitter рекомендуется любое красивое фото с наложенным поверх лого 

*business-photo.jpg  - фото презентующее ваш бизнес*

## Ссылки

Ссылки разделяются на внутренние и внешние. Внутренние ссылки ведут на ресурсы внутри сайта. Внешние ссылки ведут на ресурсы на чужих сайтах. Ссылки могут быть оформлены как в формате **Markdown** так и в формате **HTML**.

### Внешние ссылки

Ссылки на _внешние сайты_ потенциально небезопасны и могут ухудшить SEO.
Чтобы защитить ваш сайт и не навредить SEO оформляйте ссылки на внешние сайты в формате **HTML** и всегда добавляйте атрибут `rel="nofollow noreferrer noopener"`.

А добавление аттрибута `target="_blank"` заставит браузер открыть сторонний сайт в новой вкладке, а не просто уведет пользователя с вашего сайта. [Рекомендации](https://developers.google.com/style/links-external) от Google.

:x: плохо:

```html
[Компания "Снежный Барс"](http://rada.com.ua/rus/catalog/62609/)
<a href="http://rada.com.ua/rus/catalog/62609/">Компания "Снежный Барс"</a>
```

:heavy_check_mark: хорошо:

```html
<a href="http://rada.com.ua/rus/catalog/62609/" target="_blank" rel="nofollow noreferrer noopener">Компания "Снежный Барс"</a>
```

### Внутренние ссылки

:bulb: Ссылки начинающиеся с `/ru/` ведут русскоязычную версию сайта.

```html
[Услуги](/ru/)
<a href="/ru/">Услуги</a>

[нанесения тяжелых материалов](/ru/nanesenie-specialnyx-pokrytij/)
<a href="/ru/nanesenie-specialnyx-pokrytij/">нанесения тяжелых материалов</a>
```

Ссылки на украинскую версию сайта.

```html
[Послуги](/)
<a href="/">Послуги</a>

[нанесення важких матеріалів](/nanesenie-specialnyx-pokrytij/)
<a href="/nanesenie-specialnyx-pokrytij/">нанесення важких матеріалів</a>
```

## Настройки

Настройки сайта находятся в двух JavaScript-файлах:

- `[PROJECT_DIR]\config\locales.js`
- `[PROJECT_DIR]\config\website.js`

:bulb: Для настройки привлекайте :sunglasses: программиста!

### Общие

Файл: `[PROJECT_DIR]\config\website.js`

Обязательные поля:

- **siteUrl**
Измените это `https://s-bars.netlify.app` на действительный адрес сайта (БЕЗ СЛЭША В КОНЦЕ!).

- **content**
Имя репозитория с данными.


Оставьте значения переменных пустыми, если вы не используете или Google Analytics или Facebook App или Twitter:

- **googleAnalyticsID**
- **fbAppID**
- **twitterSite**
- **twitterCreator**

### Языки

`uk`и `ru`


Файл: `[PROJECT_DIR]\src\config\locales.js`

По этому файлу во время компиляции сайта добавляется префикс языка к адресам страниц и создается переключатель языка.

Назначение переменных описано в комментариях в самом файле.

### Индексирование

Файл: `[PROJECT_DIR]\static\robots.txt`

:warning: По умолчанию индексирование поисковиками запрещено.

```env
User-agent: *
Disallow: /

sitemap: https://s-bars.netlify.app/sitemap.xml
```

:bulb: Если вы хотите, что бы ваш сайт был проиндексирован **Google**, уберите бэк-слэш после `Disallow:`.

```env
User-agent: *
Disallow:

sitemap: https://your-actual-site-address/sitemap.xml
```


### Компиляция

#### Режим разработки

Компилятор в режиме разработки использует файл переменных окружения `[PROJECT_DIR]\.env.development`.


В файле хранятся три переменных:

```env
LOCALES = uk ru
ONLY = / /inquiry
WARNINGS = true
```

В `LOCALES` указываются языки, для которых будет генерироваться сайт. В качестве разделителя элеметов используется пробел.

Переменная `ONLY` позволяет ограничить количество создаваемых страниц и сократить время компиляции сайта в режиме разработки. Содержит `slug`-и страниц, которые будут скомпилированы. В качестве разделителя элеметов используется пробел.

Переменная `WARNINGS` - логическая: `true` или `false`, выдает или подавляет сообщения во время генерации страниц.

Для указанной выше конфигурации окружения сайт будет скомпилирован для двух языков `uk` и `ru`. Будут созданы четыре страницы с адресами `/`, `/inquiry`, `/ru/`, `/ru/inquiry`, а во время компиляции будут отображаться предупреждения, если что-то пойдет не так.


Список языков из `LOCALES` во время компиляции будет сопоставлен со списком доступных языков из `[PROJECT_DIR]\config\locales.js`. Если будет найдено несоответствие языков, то компиляция прекращается.

#### Режим продакшн

Во время компиляции будут созданы страницы для всех языков согласно списка из `[PROJECT_DIR]\config\locales.js`.

Язык по умолчанию должен иметь свойство `default = true`.

Если же не найдено свойство `default = true` ни для одного языка, то первый язык из списка будет принят как язык по умолчанию.

## Содержимое сайта

Все исходные данные сайта находятся в папке `[CONTENT_DIR]` на локальном компьютере. Система контроля версий `Git` 


Вспомогательные данные хранятся в формате YAML в папке `[CONTENT_DIR]\data`. Из вспомогательных данных генерируются элементы страниц: меню, списки телефонов, переводы, адрес и тп.

Исходные данные для создания самих страниц храняться в файлах с расширением `.md` в формате Markdown.

Предлагается следующая организация хранения файлов страниц.
Для каждой страницы создается отдельная папка. В ней файлы с содержимым страниц и подпапка `.\images` для хранения изображений.

Шаблон полного имени файла:
`{ИМЯ-ФАЙЛА}.{locale}.md`

`{ИМЯ-ФАЙЛА}`: английский алфавит в нижнем регистре, без пробелов, точек или подчеркиваний.

Специальное имя **index** (объяснение в разделе **Правила формирования путей**).

Пример правильно именованных файлов:

```file
index.uk.md
index.ru.md

home.uk.md
home.ru.md

services.uk.md
services.ru.md
```

## Устройство файла страницы

Внутри файл состоит из двух главных компонентов:

1. Frontmatter - начальная область, обрамленная тремя тире в начале и в конце. Frontmatter хранит внутри себя структурированные данные в формате YAML. В зависимости от назначения файла структура содержимого frontmatter будет отличаться.
2. После Frontmatter-а идет собственно **основной текст** в формате Markdown.

### Основной текст

:bulb: Ознакомьтесь с форматом Markdown до начала редактирования!

### Встака видео с YouTube

```html
<iframe src="https://www.youtube.com/embed/2Y-LqBD2HN8" width="600" height="400"></iframe>
```

### Варианты вставки изображений

:bulb: Для быстродействия и SEO **всегда** оптимизируйте ваши изображения в графическом редакторе до публикаци на сайте, устанвливайте их размер согласно рекомендаций по документации и настраивайте качество.

#### Синтаксис Markdown

Предполагается, что изображения находятся рядом с самим документом в подпапке `/images`.

:bulb: Всегда указывайте ALT текст для изображений, длина до 125 символов!
  
:heavy_check_mark: хорошо:

```md
![ALT текст для изображения](./images/your-image.jpg "Необязательный текст для всплывающей подсказки")

![ALT текст для изображения](./images/your-image.jpg)
```

:x: плохо:

```md
![](./images/your-image.jpg)
```

#### Синтаксис HTML - тег **img**

Если вы не хотите стандартной обработки изображенией генератором статических сайтов или нужно задать особые стили, то поместите изображения в
папку `[PROJECT_DIR]/static/assets/images` отдельно от документа.

##### Одиночное изображение без стилей

:heavy_check_mark: хорошо:

```html
<img src="assets/images/your-image.jpg" alt="ALT текст для изображения" title="Необязательный текст для всплывающей подсказки"/>

<img src="assets/images/your-image.jpg" alt="ALT текст для изображения" />
```

:x: плохо:

```html

<img src="assets/images/your-image.jpg" alt="" />
```

##### С предустановленными стилями

1 ряд / 2 колонки для десктоп и в 2 ряда / 1 колонка для мобильного

```html
<div class="grid_2-col">
  <img src="assets/images/your-image-1.jpg" alt="ALT текст для изображения 1" />
  <img src="assets/images/your-image-2.jpg" alt="ALT текст для изображения 2" />
</div>
```

1 ряд / 3 колонки для десктоп и в 3 ряда / 1 колонка для мобильного

```html
<div class="grid_3-col">
  <img src="assets/images/your-image-1.jpg" alt="ALT текст для изображения 1" />
  <img src="assets/images/your-image-2.jpg" alt="ALT текст для изображения 2" />
  <img src="assets/images/your-image-3.jpg" alt="ALT текст для изображения 3" />
</div>
```

### Описание полей frontmatter

Frontmatter хранит данные в формате YAML.

Поле состоит из имени на английском и значения после двоеточия.
Поля могут иметь вложенную структуру, например поле **cover**.

Последовательность полей не существенна.

Важны отступы слева перед именем поля и соотношение отступов. Именно отступы и их соотоношение задают структуру.

:bulb: Настоятельно рекомендуем ознакомиться с форматом YAML до начала работы с сайтом.

Представленные ниже поля frontmatter являются **общими** для **всех** страниц сайта.

Для комментария используется символ `#`. В реальных исходных данных сайта, как правило, комментарии отсутствуют.

```yaml
---
# Поле title обязательное, уникальное для каждой страницы сайта.
title: Заголовок страницы. По возможности в одно короткое предложение.

# Поле **description** необязательное.
# Если есть, то уникальное для каждой страницы сайта.
description: Описание страницы. 1-2 предложения.

# Поле **metaTitle** необязательное.
# Если есть, то уникальное для каждой страницы сайта.
#  Если отсутствует, то поле "title" будет использовано.
metaTitle: для SEO, до 60 сиволов.

# Поле **metaDescription** необязательное. 
# Если есть, то уникальное для каждой страницы сайта.
# Если отсутствует, то поле "description" будет использовано.
metaDescription: для SEO, до 50-160 сиволов. 

# Поле **cover** необязательное. 
# Это поле составное. Состоит из трех вложенных полей.
cover:
  sm: НЕОБЯЗАТЕЛЬНЫЙ-ФАЙЛ-ИЗОБРАЖЕНИЯ-ДЛЯ-ВАШЕГО-ДОКУМЕНТА.jpg
  xl: НЕОБЯЗАТЕЛЬНЫЙ-ФАЙЛ-ИЗОБРАЖЕНИЯ-ДЛЯ-БОЛЬШИХ-ЭКРАНОВ.jpg
  # Поле alt
  # Текстовая информация отображается при отключенной загрузке графики в браузере.
  alt: для SEO, до 125 символов. 

# Поле **slug** необязательное
slug: путь к странице на латиннице, начинающийся с обратного слэша. 
# Если надо, то язык `ru` или `uk` автоматически добавляется к 
# пути во время компиляции сайта.

# Поле **template** необязательное
# имя JavaScript-файла без расширения,
# который используется, как шаблон страницы во время компиляции сайта
template: латинница

# Поле **noindex** необязательное
# показать или спрятать страницу для поисковых роботов
noindex: `true` или `false` 
---
```

Если значение поля должно содержать двоеточие `:` или спецсимвол, то такое значение надо обрамить кавычками. Подробнее в описании формата YAML.

:heavy_check_mark: хорошо:

```yaml
description: "Описание страницы: продолжение описания после двоеточия"
```

:x: плохо:

```yaml
description: Описание страницы: продолжение описания после двоеточия
```

### Правила формирования путей

Во время компиляции сайта применяется следующий алгоритм формирования пути:

1. Frontmatter содержит поле **slug**, тогда **slug** будет использован в качестве пути.
2. Frontmatter не содержит поле **slug** и имя самого файла не начинается со слова **index**, тогда имя файла будет использовано в качестве пути.
3. Frontmatter не содержит поле **slug**, а имя файла начинается со слова **index**, тогда имя родительской папки будет использовано в качестве пути.

К пути, если необходимо, автоматически добавляется язык.

## Страницы сайта

### Страница вида "Услуга"

Папка `[CONTENT_DIR]\services`

Отдельные подпапки для каждой услуги.

Рекомендуемый размер изображения (поле `cover`в frontmatter)

| Соотношение Ш : В    | Размер Ш x В, px
| ---                  | ---
|   4 x 3              | 384 x 288

### Страница вида "Тип объекта"

Общая папка: `[CONTENT_DIR]\object-types`

Отдельные подпапки для каждого типа объекта.

Рекомендуемый размер изображения (поле `cover` в frontmatter)

| Соотношение Ш : В    | Размер Ш x В, px
| ---                  | ---
|   4 x 3              | 384 x 288

### Страница вида "Пост"

Папка: `[CONTENT_DIR]\posts`

Отдельные подпапки для каждого поста.

Для страницы типа 'Пост' в frontmatter добавлены три дополнительных поля:

```yaml
---
...

publishedDate: 2019-05-01T16:22:00Z
state: published
featured: false    
---
```

Необязательное поле **publishedDate** - дата и время публикации поста в формате ISO 8601. Посты сортируются в порядке убывания даты публикации, т.е. сначала показываются более новые.


Необязательное поле **state**. Если поле отсутствует или значение отлично от `published`, то пост будет исключен из сайта во время компиляции.


Необязательное поле **featured**. Значение `false` или `true`. Если `true`, то этот пост будет отабражен в сайдбаре в списке постов.

Рекомендуемый размер изображения (поле `cover` в frontmatter)

| Соотношение Ш : В    | Размер Ш x В, px
| ---                  | ---
|   4 x 3              | 384 x 288

### Собственно Страницы

Папка: `[CONTENT_DIR]\pages`

Как правило, страницы доступны из Главного меню или имеют особое назначение - например страницы "404" и "Конфиденциальность".

Страницы оформляются идивидуально. Для решения этой задачи содержимое страницы разбивается на секции (`sections`). Каждая секция состоит из заголовка (`title`), подзаголовка (`subtitle`), текста (`text`), изображения (`image`) и массива элементов (`items`).

В свою очередь элемент массива может состоять из заголовка (`title`), подзаголовка (`subtitle`), текста (`text`), изображения (`image`), имени иконки (`icon`) и адреса ссылки (`to`).

Это структурированное описание секций хранится в frontmatter в дополнение к общим полям.

Для каждого типа страниц на javaScript написан индивидуальный шаблон для вывода секций на экран.

Ниже приведено содержание frontmatter для типовой страницы.

```yaml
---
title: Заголовок страницы
description: Описание страницы
metaTitle: Заголовок для поисковика
metaDescription: Описание для поисковика

# Поле sections
# содержит в себе список секций
# каждая секция начинается с отступа слева относительно поля sections и значка `-`
sections:
  
  # секция 1
  - title: Заголовок секции 1
    subtitle: Подзаголовок секции 1
    text: Текст 1. Может содержать в себе разметку HTML
    image:
      sm: ИЗОБРАЖЕНИЕ.jpg
      xl: ИЗОБРАЖЕНИЕ-ДЛЯ-БОЛЬШОГО-ЭКРНА.jpg
      alt: альтернативный текст    
    
    # Поле items
    # Список элементов секции
    # элемент секции начинается с отступа слева относительно поля items и значка `-`
    items:
      # элемент 1
      - title: Заголовок элемента 1
        subtitle: Подзаголовок элемента 1
        text: Текст элемента 1. Может содержать в себе разметку HTML
        to: Ссылка, например ссылка на русcкоязычную страницу Услуги "/ru/services/"
        icon: Имя иконки 
        image:
          sm: ИЗОБРАЖЕНИЕ-1.jpg
          xl: ИЗОБРАЖЕНИЕ-1-ДЛЯ-БОЛЬШОГО-ЭКРНА.jpg
          alt: альтернативный текст 1

      # элемент 2
      - title: Заголовок элемента 2
         ...

  # секция 2
  - title: Заголовок секции 2
         ...
```

:bulb: Во все поля с именем **text** вы можете внедрять разметку HTML.

#### Главная страница

Папка: `[CONTENT_DIR]\pages\home`

Файлы: `home.uk.md` и `home.ru.md`


Ниже пример содержимого frontmatter `Главной страницы` с пояснениями.

*Пояснения начинаются со значка `#`.*

```yaml
---
# Поле title обязательно для каждой страницы сайта, в нашем случае на Главной странице не используется,
# но его все равно надо указать
title: Снежный Барс
# Поле description необязательное и не используется
description: 
metaTitle: Промышленный альпинизм и высотные работы, промальп | Снежный Барс
# значек `|` позволяет ввести значение поля с новой строки. 
metaDescription: |
Услуги промышленного альпинизма по Украине, заказывайте строительные работы на высоте 
☎+38 (096) 555-30-92 от компании Снежный Барс.
# Поле slug всегда '/'
slug: /
# Поле template всегда 'home'
template: home

# Всего 6 секций на Главной странице.
# Последовательность секций важна, т.к. для компиляции Главной страницы 
# запрограммирован индивидуальный шаблон на JavaScript
sections:

  # Секция № 1: Слайдер
  # список элементов секции № 1
  - items:
    # Cлайд 1
    - title: МЕХАНИЗИРОВАННАЯ ОЧИСТКА
      image:
        sm: ./images/s1.jpg
        alt: 

    # Cлайд 2
    - title: ПОКРАСКА КРАНОВ
      image:
        sm: ./images/s2.jpg
        alt: 

    # Cлайд 3
    - title: ПРОФЕССИОНАЛЬНЫЙ ПОДХОД
      image:
        sm: ./images/arenda-i-prodazha-oborudovaniya-m.jpg
        alt: 

    # Cлайд 4
    - title: МЕХАНИЗИРОВАННАЯ ШПАКЛЕВКА
      image:
        sm: ./images/s4.jpg
        alt: 

    # Cлайд 5
    - title: АНТИКОРОЗИОННАЯ ЗАЩИТА
      image:
        sm: ./images/s5.jpg
        alt:

    # title Cекции № 1 выводится с тегом H1    
    title: НАШИ УСЛУГИ ВКЛЮЧАЮТ В СЕБЯ ВЕСЬ ЦИКЛ РАБОТ
    # поле text
    # значек `|` позволяет ввести значение поля с новой строки. 
    # Подробнее в описании формата YAML
    # это поле содержит тег HTML `br` для перевода строки 
    text: |
      По покраске и ремонту антикоррозионной защиты конструкций: от восстановления
      <br/>
      поврежденных участков, подготовки и очистки поверхности до нанесения финишного слоя.


  # Секция № 2: Типы объектов
  # Сам список типов объектов формируется автоматически из пунктов подменю "Типы объектов"
  # title секции № 2 выводится с тегом H2  
  - title: МЫ РАБОТАЕМ С РАЗЛИЧНЫМИ ТИПАМИ ОБЪЕКТОВ
    text: |
      Мы обладаем опытом работы с такими объектами и хорошо знаем специфику работ с ними.
      <br/>
      В каждом случае требуется индивидуальный подход к подбору химии и оборудования.


  # Секция № 3: Триптих не имеет заголовка
  # список элементов секции № 3
  - items:
      # title выводится с тегом H2  
      - title: СОВРЕМЕННЫЕ ТЕХНОЛОГИИ
        text: Современные технологии и оборудование, которые мы используем в работе,
        дают возможность быстро реализовывать масштабные проекты на любой высоте, 
        независимо от количества объектов и расстояний между ними.
      - image:
          sm: ./images/work.jpg
          alt:
      # title выводится с тегом H2  
      # на десктопе `title` выводится после `text`
      - title: ВЫСОКАЯ СКОРОСТЬ
        # поле text
        # это поле содержит теги HTML `p` для оформления параграфов
        # <p>  - начало параграфа 
        # </p> - конец параграфа 
        text: |
          <p>
            Это существенно минимизирует время исполнения заказа, и не наносит ущерба качеству работы.
          </p>
          <p>
            Мобильность групп специалистов и высокая скорость развертывания комплекса 
            позволяет нам обслуживать даже несколько объектов на предприятии одновременно.
          </p>
    # выводится после `items`
    text: |
      <p>
        Нам не нужны громоздкая подъемная техника, строительные леса и люльки. 
        Мы используем высококлассное альпинистское снаряжение. 
        Это существенно снижает стоимость высотных работ и их длительность. 
        Кроме того, промышленный альпинизм позволяет производить работы в 
        труднодоступных местах и быстро красить сложные поверхности.
      </p>
      <p>
        Мы работаем в три смены и нередко выполняем заказы в нерабочее время. 
        Например, днем ваше предприятие сможет функционировать в обычном режиме. 
        А наши специалисты-высотники проведут ремонтные работы вечером или ночью.
      </p> 


  # Секция № 4
  # title секции № 4 выводится с тегом H2  
  - title: ВСЕ РАБОТЫ ОТ «А» до «Я»
    # список элементов секции № 4
    items:
      # title выводится с тегом H3
      - title: ОЧИСТКА ПОВЕРХНОСТИ
        text: |
          Аппаратный способ очистки от химических и механических загрязнений – это не только способ придать 
          конструкции опрятный вид. 
          Но и ключевой элемент защиты от коррозионных процессов. 
          Наши промышленные альпинисты используют лучшие аппараты высокого и сверхвысокого давления. 
          Именно благодаря такой очистке поверхности перед нанесением защитного слоя, 
          он будет долго и крепко держаться.
        image:
          sm: ./images/e1.jpg
          alt:
      # title выводится с тегом H3
      - title: АНТИКОРРОЗИОННАЯ ОБРАБОТКА
        text: |
          При эксплуатации металлоконструкций, местами могут возникать участки коррозии. 
          В этом случае нужно приостановить или замедлить разрушение металла. 
          Поврежденные участки необходимо зачистить и обработать преобразователем ржавчины. 
          Это создает на таких участках металлоконструкции пленку, которая изолирует этот 
          участок от доступа кислорода. 
          И, таким образом, консервирует коррозийные процессы.
        image:
          sm: ./images/e2.jpg
          alt:
      # title выводится с тегом H3
      - title: ЗАЩИТА ОТ АГРЕССИВНОЙ СРЕДЫ
        text: |
          Механизированная покраска и нанесение защитных покрытий безвоздушным способом оптимальна 
          для многих объектов с агрессивными условиями эксплуатации. 
          Как для сложных металлоконструкций, так и для железобетонных поверхностей, 
          такая технология позволяет качественно покрасить огромные объемы в кратчайшие сроки. 
          А значит – минимизировать потери, связанные с простоем производственных мощностей предприятия.
        image:
          sm: ./images/e3.jpg
          alt:
      # title выводится с тегом H3
      - title: СПЕЦИАЛЬНЫЕ ПОКРЫТИЯ
        text: |
          Благодаря покрасочным станциям и опыту наших специалистов, мы смогли механизировать 
          процесс нанесения различных тяжелых материалов. Например, гуммирование жидкой резиной, 
          нанесение штукатурки, декоративных покрытий и огнезащиты. 
          А также, покрытие новейшими полимерными промышленными материалами — самые 
          востребованные услуги в нашей сфере.
        image:
          sm: ./images/e4.jpg
          alt:


  # Секция № 5
  # title секции № 5 выводится с тегом H2
  - title: НАС РЕКОМЕНДУЮТ
    subtitle: Наша компания известна десяткам крупных предприятий, как добросовестный и надежный подрядчик.
    # список элементов секции № 5
    items:
      # title выводится с тегом DIV размер текста 110%       
      - title: Гк «Агропросперіс»
        text: Відновлення антикоррозійного захисту<br>металлоконструкций элеваторів — 5420 м2
        image:
          sm: "./images/антикорозійний захист металоконструкцій елеватора.jpg"
          alt:
      # title выводится с тегом DIV размер текста 110%   
      - title: Група компаній «МХП»
        text: Очистка скляного фасада — 1100 м2<br>м. Ладижин, 2016-2020рр.
        image:
          sm: "./images/Мийка скляного фасаду.jpg"
          alt:
      # title выводится с тегом DIV размер текста 110%  
      - title: СМЦ «Метінвест»
        text: Фарбування козлових кранів — 5 шт.<br>м Бровари, 2017р
        image:
          sm: ./images/Фарбування козлого крану.jpg
          alt:


  # Секция № 6
  # title секции № 6 выводится с тегом H2
  - title: НАШЕ КРЕДО
    text: |
      Наши специалисты применяют только самые передовые технологий в области промышленного 
      альпинизма и антикоррозийной защиты. А непрерывное развитие компании гарантирует 
      максимум безопасности и оперативности. Как с клиентами, так и партнерами, 
      мы придерживаемся четырех основных принципов сотрудничества:
    # список элементов секции № 6
    items:
      # title выводится с тегом H3
      - title: ЧЕСТНОСТЬ
        # иконки задаются в коде прграммы
        icon:  thumbsUp
        text: |
          Мы ведем политику «Прозрачного ценообразования». Еще до начала работ, мы честно 
          проведем расчеты по вашему объекту. Вы не столкнетесь со скрытыми доплатами 
          или непредвиденными расходами.
          Мы сообщим вам конечную стоимость услуги до момента заключения сделки. 
          При необходимости, раскроем и объясним вам все этапы работ по проекту 
          и издержки, связанные с их выполнением.
      # title выводится с тегом H3    
      - title: КАЧЕСТВО
        icon:  check
        text: |
          Качество работ неразрывно связано с опытом персонала. Наши сотрудники любят свою 
          работу и трудятся с высокой самоотдачей. 
          Именно поэтому, наше предприятие не испытывает текучести кадров. 
          Все сотрудники работают у нас уже много лет. Кроме того, они обладают высокой внутренней мотивацией 
          и чувством ответственности. Мы ориентированы на результат и правильно понимаем ожидания наших клиентов. 
          Вы можете рассчитывать на долгий срок службы обработанных нами объектов.
      # title выводится с тегом H3
      - title: СКОРОСТЬ
        icon:  plane
        text: |
          Высокая производительность и оперативность выполнения работ – наше главное конкурентное преимущество. 
          Мы ценим время и знаем, как это важно для наших клиентов. 
          При необходимости, мы готовы организовать даже трёхсменную работу на объекте. Кроме того, 
          мы обладаем качественным современным оборудованием. 
          Которое рассчитано на работу с крупными объектами и большими объемами.
      # title выводится с тегом H3        
      - title: ОТВЕТСТВЕННОСТЬ
        icon:  users
        text: |
          Мы уверены в качестве работы наших сотрудников и надежности используемых материалов. 
          Именно поэтому, мы готовы нести за них ответственность в виде гарантийных сроков эксплуатации. 
          В зависимости от вида работ и типа объекта, мы всегда рассчитываем гарантированный срок службы. 
          В течении которого, все риски покрываются за наш счет.        
---
```

Рекомендуемые размеры изображений

| № секции  | Имя секции                | Соотношение Ш : В    | Размер Ш x В, px
| ---       |---                        | ---                  | ---
| 1         | Слайдер                   | 2.763636364 : 1      | 1216 x 440
| 3         | Триптих                   | 1.85 : 1             | 592 x 320
| 4         | ВСЕ РАБОТЫ ОТ «А» до «Я»  | 1 : 1                | 200 x 200
| 5         | НАС РЕКОМЕНДУЮТ           | 3 : 1                | 1216 x 405.33



#### Cтраница "Услуги"

Папка: `[CONTENT_DIR]\pages\services`

Файлы: `services.uk.md` и `services.ru.md`


Список услуг из папки `[CONTENT_DIR]\services` в соответствии с подменю первого пункта Главного меню.

:warning: На старом сайте была отдельная страница "Услуги для предприятий". На новом теперь одна общая страница "Услуги". Для сохранения старой ссылки создан постоянный редирект.

|   Откуда                  | Куда       | Статус
|---                        |---         |---
| /dlya-predpriyatijh       | /services  | 301

*Файл с редиректами: `[PROJECT_DIR]\static\_redirects`*

#### Cтраница "Типы объектов"

Папка: `[CONTENT_DIR]\pages\object-type-list`

Файлы: `object-type-list.uk.md` и `object-type-list.ru.md`


Список типов объектов из папки `[CONTENT_DIR]\object-types` в соответствии с подменю второго пункта Главного меню.



#### Cтраница "Прайс"

Папка: `[CONTENT_DIR]\pages\price-list`

Файлы: `price-list.uk.md` и `price-list.ru.md`


Содержит одну секцию со списком позиций прайс-листа.



#### Cтраница "Блог"

Папка: `[CONTENT_DIR]\pages\blog`

Файлы: `blog.uk.md` и `blog.ru.md`


Список постов из папки `[CONTENT_DIR]\posts` со статусом **published** и отсортированный по дате публикации `publishedDate`.



#### Cтраница "О нас"

Папка: `[CONTENT_DIR]\pages\about`

Файлы: `about.uk.md` и `about.ru.md`


Содержит три секции.


Рекомендуемые размеры изображений

| № секции  | Имя секции                | Соотношение Ш : В    | Размер Ш x В, px
| ---       |---                        | ---                  | ---
| 1         | Триптих                   |  1.85 : 1            | 592 x 320



#### Cтраница "Контакты"

Папка: `[CONTENT_DIR]\pages\contacts`

Файлы: `contacts.uk.md` и `contacts.ru.md`


Данные для страницы "Контакты" хранятся во вспомогательных файлах:

- `contacts.yaml`
- `address.{locale}.yaml`



#### Cтраница "Конфиденциальность"

Папка: `[CONTENT_DIR]\pages\privacy`

Файлы: `privacy.uk.md` и `privacy.ru.md`



#### Cтраница "Послать запрос"

Папка: `[CONTENT_DIR]\pages\inquiry`

Файлы: `inquiry.uk.md` и `inquiry.ru.md`

Формируется полностью программно.



#### Cтраница "404"

Папка: `[CONTENT_DIR]\pages\404`

Файлы: `404.uk.md` и `404.ru.md`

:warning: Для русскоязычных ненайденных страниц задан редирект:

|   Откуда     | Куда       | Статус
|---           |---         |---
| /ru/*        |  /ru/404   | 404

*Файл с редиректами: `[PROJECT_DIR]\static\_redirects`*



#### Cтраница "Услуги для частного клиента"

Папка: `[CONTENT_DIR]\pages\services-for-private-clients`

Файлы: `services-for-private-clients.uk.md` и `services-for-private-clients.ru.md`

Перейти на эту страницу можно по ссылке со страницы "Услуги"




## Данные для формирования элементов сайта

### Общие для всех языков

Папка: `[CONTENT_DIR]\data\`

Файл: `contacts.yaml`

#### Список полей

|   Поле       | Назначение                    | Описание
|---           |---                            |---
| geo          | SEO                           | [географические координаты](https://schema.org/geo)
| hasMap       | SEO                           | [ссылка на Google-карты](https://schema.org/hasMap)
| embedMap     | страница "Контакты"           | ссылка на Google-карты для вставки в страницу
| phone        | футер и SEO                   | список цифровых значений, разделитель элементов `,`
| e-mail       | футер и SEO                   | список, разделитель элементов `,`
| openingHours | страница "Контакты" и SEO     | [рабочее время](https://schema.org/openingHours)
| priceRange   | SEO                           | [диапазон цен](https://schema.org/priceRange), валидные значения: `$`, `$$`, `$$$`, `$$$$`
| foundingDate | футер и SEO                   | [дата основания](https://schema.org/foundingDate) в формате ISO 8601

:bulb: Номер телефона допускает только цифры, без плюса спереди, без пробелов, скобок и прочих символов.


#### Поле **openingHours** (Рабочее время)

Формат поля: список элементов, состоящий из следующей структуры: день недели, время начала рабочего дня, время окончания рабочего дня.

День недели - двухбуквенная аббревиатура на английском языке.

Время - в формате 24 часа.

```yaml
openingHours:
  - ['mo-fr', '09:00', '18:00']
  - ["mo", "10:00", "18:00"]
  - ["tu", "10:00", "18:00"]
  - ["we", "10:00", "18:00"]
  - ["th", "10:00", "18:00"]
  - ["fr", "10:00", "18:00"]
```

Рабочее время с понедельника по пятницу с 10:00 до 18:00 можно записать короче

```yaml
openingHours:
  - ["mo-fr", "10:00", "18:00"]
```

Если в какой-то день вы работаете 24 часа в сутки, то укажите время с `00:00` до `23:59`.

Пример оформления для круглосуточной работы в среду:

```yaml
openingHours:
  - ["we", "00:00", "23:59"]
```

Для выходного дня укажите время начала и окончания `00:00`.

Пример оформления для выходного дня в воскресенье:

```yaml
openingHours:
  - ["su", "00:00", "00:00"]
```

Пример оформления для выходного дня в субботу и воскресенье:

```yaml
openingHours:
  - ["sa, su", "00:00", "00:00"]
```

### Языкозависимые данные

Папка: `[CONTENT_DIR]\data\locales`

| Что         | Папка                                  | Имя файла             | Комментарий                            |
| ------------ | --------------------------------------- | --------------------- | ------------------------------- |
| Главное меню    | .\main-nav              | main-nav.uk.yaml     |
|              |                        | main-nav.ru.yaml     |
| Навигация в футере  | .\footer-nav            | footer-nav.uk.yaml   |
|              |                        | footer-nav.ru.yaml   |
| Ссылки на соц.сети | .\social-links          | social-links.uk.yaml | Facebook, Intagram и тд          |
|              |                        | social-links.ru.yaml |
| Адрес      | .\address               | address.uk.yaml      | Официальное название организации, почтовый адрес, подробное описание контактов          |
|              |                        | address.ru.yaml      |
| Переводы | .\translations          | translations.uk.yaml | Для внутреннего использования
|              |                        | translations.ru.yaml |


#### Навигация в футере

Список полей

|   Поле       | Описание
|---           |---
| title        | название ссылки
| to           | путь без префикса языка. Например: `/services`


#### Главное меню

Устроено аналогично **Навигация в футере**.

Добавлено поле **submenu** (подменю) c подпунктами.

:warning: Запрограммировано так, что первый пункт Главного меню будет **Услуги**, а второй **Типы объектов**. Порядок пуктов меню важен!

Из подменю пункта **Услуги** создается список услуг для страницы `Услуги` и список услуг для сайдбара.

Соответственно из подменю пункта **Типы объектов** создается список типов объектов для `Главной` страницы, для страницы `Типы объектов` и список типов объектов для сайдбара.


#### Ссылки на соц.сети

Устроено аналогично **Навигация в футере**.

Добавлено поле **code** (код).

При наведении курсора мыши на ссылку на соц.сеть в футере поле **title** выводится как всплывающая подсказка.


:warning: Поле **код** используется для построения SEO и для иконки ссылки на соц.сети в футере.

Для добавления других соц.сетей нужен программист.


#### Адрес

Содержимое этого файла используется на странице "Контакты".

Поле **e-mail** в виде списка, разделитель элементов списка запятая `,`.



Поле **telephone** в виде списка цифровых значений, разделитель элементов списка запятая `,`.

:bulb: Номер телефона допускает только цифры, без плюса спереди, без пробелов, скобок и прочих символов.


#### Переводы

Переводы используются только в коде программы. Поэтому не предполагается их редактирование.

Если все же возникла такая потребность, то:

- Отредактируйте соответствующий `JSON` файл в папке `[CONTENT_DIR]\data\locales\translations\src\`.
- Зайдите в командную строку, перейдите в папку `[PROJECT_DIR]` и выполните команду `yarn translations:json2yaml`.
  Эта команда запустит javascript-скрипт, который преобразует файл c переводами из формата `JSON` в `YAML` (Вам потребуется предварительно установить на локальный компьютер **nodejs** и **yarn**).

  :bulb: Для автоматического обновления переводов во время `commit`-a потребуется дополнительно установить **husky** и **lint-staged**.
- выполните действия из радела **[Публикация изменений](#публикация-изменений)**.
