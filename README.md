# s-bars.com - Снежный барс <!-- omit in toc -->

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)[![Netlify Status](https://api.netlify.com/api/v1/badges/b08c700d-a97c-4f7d-aa81-76c0d7288b2f/deploy-status)](https://app.netlify.com/sites/s-bars/deploys)

Этот проект Open Source и доступен под лицезией [MIT](https://github.com/alextim/s-bars/blob/main/LICENSE)

**Оглавление**

- [Введение](#введение)
  - [Особенности](#особенности)
  - [Лимиты бесплатных сервисов (на 1 марта 2021 г)](#лимиты-бесплатных-сервисов-на-1-марта-2021-г)
    - [Netlify](#netlify)
      - [Хостинг](#хостинг)
      - [Бессерверные функции](#бессерверные-функции)
    - [SendGrid](#sendgrid)
- [Требования к владельцу сайта](#требования-к-владельцу-сайта)
- [Защита данных пользователя](#защита-данных-пользователя)
  - [Куки (cookie)](#куки-cookie)
  - [Хранение данных пользователя](#хранение-данных-пользователя)
- [Инсталляция](#инсталляция)
- [Предварительные условия](#предварительные-условия)
- [Аббревиатуры](#аббревиатуры)
- [Публикация изменений](#публикация-изменений)
- [Разрешение проблем построения сайта](#разрешение-проблем-построения-сайта)
  - [Сайт не обновляется](#сайт-не-обновляется)
- [Правила именования файлов](#правила-именования-файлов)
- [SEO](#seo)
  - [Поля Frontmatter](#поля-frontmatter)
  - [Карта сайта (**Sitemap**)](#карта-сайта-sitemap)
- [Новостная лента - RSS](#новостная-лента---rss)
- [Специальные изображения](#специальные-изображения)
- [Ссылки](#ссылки)
  - [Внешние ссылки](#внешние-ссылки)
  - [Внутренние ссылки](#внутренние-ссылки)
- [Настройки](#настройки)
  - [Общие](#общие)
  - [Языки](#языки)
  - [Поисковые роботы](#поисковые-роботы)
    - [Стратегия индексации страницы "Блог"](#стратегия-индексации-страницы-блог)
  - [Компиляция](#компиляция)
    - [Режим разработки](#режим-разработки)
    - [Режим продакшн](#режим-продакшн)
- [Содержимое сайта](#содержимое-сайта)
- [Устройство файла страницы](#устройство-файла-страницы)
  - [Основной текст](#основной-текст)
  - [Встака видео с YouTube](#встака-видео-с-youtube)
  - [Варианты вставки изображений](#варианты-вставки-изображений)
    - [Синтаксис Markdown](#синтаксис-markdown)
    - [Синтаксис HTML - тег **img**](#синтаксис-html---тег-img)
      - [Одиночное изображение без стилей](#одиночное-изображение-без-стилей)
      - [С предустановленными стилями](#с-предустановленными-стилями)
  - [Описание полей Frontmatter](#описание-полей-frontmatter)
  - [Правила формирования путей](#правила-формирования-путей)
- [Страницы сайта](#страницы-сайта)
  - [Страница вида "Услуга"](#страница-вида-услуга)
  - [Страница вида "Тип объекта"](#страница-вида-тип-объекта)
  - [Страница вида "Пост"](#страница-вида-пост)
  - [Собственно Страницы](#собственно-страницы)
    - [Главная страница](#главная-страница)
    - [Cтраница "Услуги"](#cтраница-услуги)
    - [Cтраница "Типы объектов"](#cтраница-типы-объектов)
    - [Cтраница "Прайс"](#cтраница-прайс)
    - [Cтраница "Блог"](#cтраница-блог)
    - [Cтраница "О нас"](#cтраница-о-нас)
    - [Cтраница "Контакты"](#cтраница-контакты)
    - [Cтраница "Конфиденциальность"](#cтраница-конфиденциальность)
    - [Cтраница "Послать запрос"](#cтраница-послать-запрос)
    - [Cтраница "404"](#cтраница-404)
    - [Cтраница "Услуги для частного клиента"](#cтраница-услуги-для-частного-клиента)
- [Данные для формирования элементов сайта](#данные-для-формирования-элементов-сайта)
  - [Общие для всех языков](#общие-для-всех-языков)
    - [Список полей](#список-полей)
    - [Поле **openingHours** (Рабочее время)](#поле-openinghours-рабочее-время)
  - [Языкозависимые данные](#языкозависимые-данные)
    - [Навигация в футере](#навигация-в-футере)
    - [Главное меню](#главное-меню)
    - [Ссылки на социальные сети](#ссылки-на-социальные-сети)
    - [Адрес](#адрес)
    - [Переводы](#переводы)
- [TO-DO](#to-do)
  - [Заказать SEO-аудит у сторонней компании](#заказать-seo-аудит-у-сторонней-компании)
  - [Логотип](#логотип)
  - [Оживить блог](#оживить-блог)
  - [Хлебные крошки](#хлебные-крошки)

## Введение

### Особенности

Этот сайт создан по технологии [JAMStack](https://jamstack.org/).

Для хранения данных используются форматы [YAML](https://yaml.org/) и [Markdown](https://daringfireball.net/projects/markdown/).

Исходные файлы сайта создаются, хранятся и редактируются на локальном компьютере.
Изменения данных отслеживаются распределенной системой контроля версий [Git](https://git-scm.com/).

По команде пользователя система контроля версий [Git](https://git-scm.com/) синхронизирует изменения данных на локальном компьютере с облачным репозиторием [GitHub](https://github.com/).

Облачный репозиторий [GitHub](https://github.com/) связан с облачным провайдером [Netlify](https://netlify.com), который подписан на изменения в вашем репозитории.

После каждого изменения провайдер автоматически скачивает обновленные данные из вашего репозитория себе, запускает генератор статических сайтов [Gatsby](https://www.gatsbyjs.com/), компилирует и публикует обновленную версию сайта.


Для обработки форм и отправки почты используются [бессерверные функции](https://docs.netlify.com/functions/overview/) провайдера и облачный почтовый сервер [SendGrid](https://sendgrid.com/).


Технология JAMStack в комлексе с бессерверными вычислениями позволяют не разворачивать собственный сервер, избежать затрат на хостинг и обслуживание. Статический сайт безопасен, устойчив к атакам и вирусам, обладает хорошим быстродействием.


### Лимиты бесплатных сервисов (на 1 марта 2021 г)

#### Netlify

Предполагается, что сайт попадает под условия пакета "STARTER" компании Netlify.
Конечное решение о возможности бесплатного размещения вашего сайта принимает компания Netlify.
Подробнее [здесь](https://www.netlify.com/tos).

##### Хостинг

Время на построение сайта (build time) - 300 минут в месяц.

В среднем ваш двуязычный сайт, состоящий из 8 страниц, 9 услуг, 6 типов объектов и 30 постов строится менее, чем за 4 минуты. Итого вы можете в рамках бесплатного пакета обновить сайт около 80 раз в месяц или 2-3 раза в сутки.


##### Бессерверные функции

- До 125000 вызовов функций в месяц
- До 100 часов времени исполнения в месяц


#### SendGrid

Посылка 40000 писем за первые 30 дней после регистрации, затем 100 писем в день.

## Требования к владельцу сайта

- Элементарный английский.
- Умение пользоваться командной строкой.
- Умение пользоваться текстовым и графическим редакторами.
- Понимание SEO.
- Базовые знания форматов HTML, Markdown и YAML.
  
В сети есть разнообразные ресурсы об устройстве этих форматов. Ниже несколько ссылок для ознакомления.

HTML:

- [Wiki](https://ru.wikipedia.org/wiki/HTML)

Markdown:

- [Краткое руководство](https://paulradzkov.com/2014/markdown_cheatsheet/)
- [markdownguide.org](https://www.markdownguide.org/)

:bulb: Для быстрого обучения формату Markdown удобно воспользоваться on-line редактором. On-line редактор позволяет править текст с разметкой Markdown в окне браузера и сразу видеть результаты. Например [dillinger](https://dillinger.io/).

YAML:

- [Wiki](https://ru.wikipedia.org/wiki/YAML)
- [Работа в YAML](https://starkovden.github.io/working-in-YAML.html)
- [YAML Ain’t Markup Language (YAML™) Version 1.2](https://yaml.org/spec/1.2/spec.html)

## Защита данных пользователя

### Куки (cookie)

Сайт не генерирует своих куки, но использует чужие сервисы, которые их создают.

Сторонние куки

| Сервис           | Где                                                | Комментарий
|  ---             | ----                                               | ----
| Google Analytics | Все страницы сайта                                 | Можно отключить, но не будет аналитики
| Google Maps      | Страница "Контакты"                                | Или заменить на картинку или воспользоваться условно бесплатным сервисом (нужна Credit Card)
| Youtube          | Только на той странице, где вы сами вставили видео | Не пользоваться

### Хранение данных пользователя

Сайт сам по себе не хранит данные пользователя. Но при отправке формы "Запрос" пользуется сторонними сервисами.

| Сервис           | Где                                                | Комментарий
|  ---             | ----                                               | ----
| Send Grid        | Страница "Контакты"                                | Альтернатива - свой сервер
| Google Mail      | Google                                             | Можно настроить получение писем с сайта на любую почту, не только на GMail
| ваша организация | ваш компьютер и тд                                 |

## Инсталляция

## Предварительные условия

1. Учетная запись на [SendGrid](https://sendgrid.com). Необходимо получить API key и верифицировать ваш e-mail (Single Sender).
1. Учетная запись на [GitHub](https://github.com).
1. Учетная запись на  [Netlify](https://netlify.com).
1. Установленная на вашем локальном компьютере система контроля версий **Git** . Ссылка для скачивания [здесь](https://git-scm.com/download).
1. Текстовый редактор.
1. Графический редактор для подготовки изображений. Например **Photoshop**.
1. Права доступа к защищенному репозиторию с данными.

:bulb: Не пользуйтесь `Notepad` или `Microsoft Word` для редактирования содержимого сайта!
Рекомендуется `Visual Studio Code` (**VSC**). Ссылка для скачивания [здесь](https://code.visualstudio.com/download).
Желательно дополнительно установить расширения для **VSC**: "YAML Language Support by Red Hat", "Markdown All in One", "markdownlint.
**VSC** облегчает редактирование Markdown и YAML, а также позволяет не пользоваться командной строкой при работе с системой контроля версий и удаленным репозиторием.  


:bulb: Для быстрого обучения формату Markdown удобно воспользоваться on-line редактором. On-line редактор позволяет править текст с разметкой Markdown в окне браузера и сразу видеть результаты. Например [dillinger](https://dillinger.io/).


## Аббревиатуры

- `[CONTENT_DIR]` - имя папки на локальном компьютере с данными сайта.
- `[PROJECT_DIR]` - имя папки на локальном компьютере с кодом сайта.
- `{locale}` - язык, `uk` или `ru`

Допущения

`[CONTENT_DIR]` и `[PROJECT_DIR]` должны находится в одной родительской папке.

Исходный код сайта выложен в открытый репозиторий под лицензией MIT.

Но сами данные для построения сайта (тексты, посты, страницы, изображения и тп) расположены в отдельном защищенном репозитории, что не позволяет скопировать сайт путем простого клонирования.


## Публикация изменений

Сначала загружаем самую свежую версию данных сайта из удаленного защищенного репозитория. Это необходимо сделать до начала каких-либо правок на локальном компьютере, чтобы избежать ручного разрешения конфликтов слияния версий разных пользователей. Если правка данных производится только одним пользователем и на одном компьютере, то это выполнять нет необходимости.

Правим данные на локальном компьютере, сохраняем результаты работы в локальный репозиторий и затем синхронизируем локальный репозиторий с удаленным защищенным.

Переходим в локальный репозиторий с кодом сайта, обновляем его из удаленного защищенного репозитория с данными и затем обновляем удаленный публичный репозиторий с кодом.

Netlify сам отследит все изменения в удаленном репозитории с кодом, скомпилирует и опубликует обновленную версию сайта.

Пошаговая схема процесса обновления сайта
![Пошаговая схема процесса обновления сайта](https://github.com/alextim/s-bars/blob/main/docs/git-workflow-actions.svg)

1. Запустите Visual Studio Code
2. Откройте папку с данными - меню File -> Open Folder..., папка `[CONTENT_DIR]`
3. Откройте Teminal: меню Teminal -> New Terminal
4. Получите последнюю версию данных из удаленного репозитория
   В окне Teminal выполните команду

   ```bush
   git pull
   ```

   Если правка данных производится только одним пользователем и на одном компьютере, то пункты 3 и 4 можно пропустить.
5. Отредактируйте и сохраните данные сайта.
6. Поместите измененные файлы в локальный репозиторий и выполните синхронизацию с удаленными репозиториями.
   Пункт меню `Terminal -> Run Build Task...` или одновременное нажатие клавиш `Crtl + Shift + B`.

Синхронизация данных в удаленных репозиториях производится автоматически.

Netlify отслеживает эти измения, сам cкомпилирует и опубликует обновленный сайт.


## Разрешение проблем построения сайта

### Сайт не обновляется

1. Зайдите в вашу учетную запись на [Netlify](https://netlify.com).
2. Нажмите **Sites**
3. Выберите ваш сайт
4. Нажмите **Deploys**


Вы попадете на страницу со списком всех компиляций вашего сайта, отсортированный по времени в порядке убывания.


Если последняя компиляция в статусе **Published** (зеленая метка)

1. Нажмите кнопку **Trigger deploy**
1. Нажмите **Clear cache and deploy site**
1. Очистите кеш браузера, сайт должен обновиться.


Если последняя компиляция в статусе **Failed** (красная метка)

1. Нажмите на стрелочку `>` справа для перехода на страницу **Deploy details**
2. Просмотрите содержимое окна **Deploy log** и найдите описание ошибки. Ошибка будет подсвечена красным.
Скорее всего у вас не правильно оформлен файл Markdown или Yaml. В логе будет отражено название файла и место, где неправильно оформлено. Если это так, то исправьте ошибки оформления на локальной машине, сделайте `commit` и `push`. Сайт будет построен автоматически.

Если причина другая, то потребуется помощь программиста.

## Правила именования файлов

- самообъясняющие недлинные имена;
- только English алфавит;
- все символы в нижнем регистре;
- без цифр;
- без пробелов;
- используйте дефис `-` для разделения слов;
- без точек, подчеркиваний или специальных символов;
- желательно наличие ключевых слов в имени файла для SEO.

:bulb: Транслитерация допустима, но во избежании путаницы и с прицелом на будущее правильнее именовать на английском языке.

:heavy_check_mark: хорошо:

- `weekend-with-family.jpg`
- `my-awesome-file.png`

:x: плохо:

- `chto-chistye-okna-mogut-sdelat-dlya-pribyli-vashej-kompanii.txt` - очень длиное имя в сочетании с транслитерацией, в результате трудно читаемое
- `weekend-with-family.JPG` - расширение имени файла в верхнем регистре
- `asdasda-cajjqq1sd.jpg` - непонятное имя
- `мой-красивый-файл.jpg`- не английский алфавит
- `MyAwesomeFile.jpg` - заглавные буквы
- `moi-prijatnii-fail.jpg` - транслитерация
- `my_awesome_file.jpg` - подчеркивания
- `my.awesome.file.jpg` - точки

[Рекомендации](https://developers.google.com/style/filenames) от Google.

## SEO

Для поисковика содержимое страницы должно быть по меньшей мере 300 слов.

Источник: [The Beginner's Guide to SEO](https://moz.com/beginners-guide-to-seo)

### Поля Frontmatter

| Имя поля | Рекомендованая длина  | Значение | Первоисточник  | Комментарий                             |
| ------   | ---------             | -------- | ----------     | --------------------------------------- |
| **metaTitle**         | до 50-60 символов. строка будет обрезана гуглом визуально до 600px на странице SERP| `Главная ключевая фраза` `Второстепенная ключевая фраза` \| `Ваш бренд`<br>Уникальное для каждой страницы сайта.    | [What is a meta title tag?](https://moz.com/learn/seo/title-tag), [Create good titles and snippets in Search Results](https://support.google.com/webmasters/answer/35624?hl=en) | Если **metaTitle** отсутствует, то поле **title** будет использовано          |
| **metaDescription**   | 50-160 символов  | 1 параграф из 1-2 предложений. Без кавычек `"` и спецсимволов.<br>Уникальное для каждой страницы сайта.      | [What is a meta description?](https://moz.com/learn/seo/meta-description), [How to create the right meta description](https://yoast.com/meta-descriptions/)                     | Если **metaDescription** отсутствует, то поле **headline** будет использовано |
| cover: **alt**               | до 125 символов | | [What is Alt Text?](https://moz.com/learn/seo/alt-text)                                                                                                                         |                                                          |
| image: **alt**


:bulb: Для полей **metaTitle** и **metaDescription** не пользуйтесь всеми заглавными буквами, т.к. они хуже читаются и занимают больше места при выводе на странице SERP (Search Engine Result Page).


:warning: В случае, если отсутствуют и **metaDescription** и **headline**, то будет использовано соответствующее языку страницы содержимое поля **siteDescription** из файла конфигурации `[CONTENT_DIR]/config/locales.js`.

### Карта сайта (**Sitemap**)

Во время финальной сборки сайта специальный плагин `at-sitemap` автоматически выполняет ряд действий:

1. Генерирует файл `sitemap.xml` 
2. Добавляет в `<HEAD>` каждой страницы линк на сайтмэп.
3. Прописывает сайтмэп в `robots.txt`.

В карту сайта автоматически добавляется аттрибут **lastmod** с датой построения сайта. Вы можете запретить генерацию **lastmod** или установить **lastmod** по значению поля **dateModified** из Frontmatter.

Плагин по умолчанию ищет и добавляет в карту все изображения, связанные со страницей.

Изображения с незаполненным альтернативным текстом **ALT** по умолчанию исключаются из карты сайта.

Эти все свойства определяется настройками плагина в файле `gatsby-config.js`.  


Подробне о Sitemap

- [О файлах Sitemap](https://developers.google.com/search/docs/advanced/sitemaps/overview?hl=ru)
- [Отправка локализованных версий страницы в Google](https://developers.google.com/search/docs/advanced/crawling/localized-versions?hl=ru)
- [Файлы Sitemap для изображений](https://developers.google.com/search/docs/advanced/sitemaps/image-sitemaps?hl=ru)
- [Quick guide to IPTC Photo Metadata and Google Images](https://iptc.org/standards/photo-metadata/quick-guide-to-iptc-photo-metadata-and-google-images/)

## Новостная лента - RSS

Во время компиляции в корне сайта создается файл `rss.xml`. В него включаются тридцать последних постов согласно даты публикации.

Подробнее о RSS [здесь](https://ru.wikipedia.org/wiki/RSS).

## Специальные изображения

Пути указаны относительно папки `[PROJECT_DIR]`.

| №  | Назначение  | Имя файла             | Папка                             | Ш : В   | Размер, px  | Кол-во
|---:|-----------  |---                    |---                                |  ---:   |        ---: |---
|  1 | Site        | favicon.ico           | static/                           | 1 : 1   |   16 x 16   | 1
|    |             |                       |                                   |         |             |
|  2 | OpenGraph   | banner-`{locale}`.jpg | static/assets/images/og/          | 1.9 : 1 | 1200 x 630  | 1 на `locale`
|    |             |                       |                                   |         |             |
|  3 | Twitter     | banner-`{locale}`.jpg | static/assets/images/twitter/1x1/ | 1 : 1   |  450 x 450  | 1 на `locale`
|  4 |             | banner-`{locale}`.jpg | static/assets/images/twitter/2x1/ | 2 : 1   |  600 x 300  | 1 на `locale`
|    |             |                       |                                   |         |             |
|  5 | schema.org  | business-photo.jpg | static/assets/images/organization/1x1/  | 1 : 1  | >  696 x 696 | 1
|  6 |             | business-photo.jpg | static/assets/images/organization/4x3/  | 4 : 3  | > 1200 x 900 | 1
|  7 |             | business-photo.jpg | static/assets/images/organization/16x9/ | 16 : 9 | > 1600 x 900 | 1
|    |             |                       |                                   |         |             |
|  8 | schema.org  | logo.svg              | static/assets/images/             |         |             | 1
|  9 | webmanifest | icon.png              | src/assets/images/                | 1 : 1   | > 512 x 512 | 1


*Установите, если надо, свои размеры изображений для Twitter и Facebook OpenGraph и в файле `[CONTENT_DIR]/config/website.js`.*

*Для Twitter и Facebook OpenGraph рекомендуется любое красивое фото с наложенным поверх лого.*

*business-photo.jpg - изображение презентующее ваш бизнес, отображается в поиске Google.*

Источники для ознакомления:

- [favicon.ico](https://en.wikipedia.org/wiki/Favicon)
- [Facebook OpenGrpah](https://developers.facebook.com/docs/sharing/best-practices#images)
- [Twitter Card](https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image)
- [Местная компания](https://developers.google.com/search/docs/data-types/local-business?hl=ru)
- [Логотип](https://developers.google.com/search/docs/data-types/logo?hl=ru)
- [Add a web app manifest](https://web.dev/add-manifest/)

## Ссылки

Ссылки разделяются на внутренние и внешние. Внутренние ссылки ведут на ресурсы внутри сайта. Внешние ссылки ведут на ресурсы на чужих сайтах. Ссылки могут быть оформлены как в формате **Markdown** так и в формате **HTML**.

### Внешние ссылки

Ссылки на _внешние сайты_ потенциально небезопасны и могут ухудшить SEO.
Чтобы защитить ваш сайт и не навредить SEO оформляйте ссылки на внешние сайты в формате **HTML** и всегда добавляйте атрибут `rel="nofollow noreferrer noopener"`.

А добавление аттрибута `target="_blank"` заставит браузер открыть сторонний сайт в новой вкладке, а не просто уведет пользователя с вашего сайта.

:heavy_check_mark: хорошо:

```html
<a href="http://untrusted-site.com/" target="_blank" rel="nofollow noreferrer noopener">
  Что-то на чужом сайте
</a>
```

:x: плохо:

```markdown
[Что-то на чужом сайте](http://untrusted-site.com/)

<a href="http://untrusted-site.com/">Что-то на чужом сайте</a>
```

Исключением являются ссылки на страницы из чужих сайтов, которым вы доверяете, с правильно оформленными **беклинками** на ваш сайт.

:bulb: **Беклинки** очень важны для SEO.

Оформлять такие ссылки надо так:

```html
<a href="http://rada.com.ua/rus/catalog/62609/"
  target="_blank" rel="noopener">
  Компания "Снежный Барс"
</a>
```


Более подробно в [рекомендациях](https://developers.google.com/style/links-external) от Google.

### Внутренние ссылки

Внутренние ссылки предназначены для осуществления перехода между страницами внутри сайта.

:bulb: Для того, чтобы в будущем было легче отслеживать переходы по внутренним ссылкам сайта в **Google Analytics**  всегда добавляйте косую черту `/` (слеш) в конце ссылки.

Примеры ссылок на ресурсы украинской версии сайта.
Так как в настройках сайта язык `uk` задан главным, то префикс языка к пути не добавляется.

```markdown
[Головна](/)

[нанесення важких матеріалів](/nanesenie-specialnyx-pokrytij/)
```

Ссылки на все русскоязычные ресурсы сайта начинаются с префикса языка `/ru/`.

```markdown
[Главная](/ru/)

[нанесения тяжелых материалов](/ru/nanesenie-specialnyx-pokrytij/)
```

Markdown позволяет вставлять ссылки в формате HTML.

```html
<a href="/">Головна</a>

<a href="/nanesenie-specialnyx-pokrytij/">нанесення важких матеріалів</a>


<a href="/ru/">Главная</a>

<a href="/ru/nanesenie-specialnyx-pokrytij/">нанесения тяжелых материалов</a>
```

## Настройки

Настройки сайта находятся в двух JavaScript-файлах:

- `[CONTENT_DIR]/config/locales.js`
- `[CONTENT_DIR]/config/website.js`

:bulb: Если необходима настройка, то рекомендуется привлечение :sunglasses: программиста!

### Общие

Файл: `[CONTENT_DIR]/config/website.js`

Обязательные поля:

- **siteUrl**
Измените это `https://s-bars.netlify.app` на действительный адрес сайта (БЕЗ СЛЭША В КОНЦЕ!).

- **noRobots**
`true` если вы хотите запретить индексирования сайта (добавляет в хедер серверного ответа `X-Robots-Tag: noindex, nofollow`).


- **content**
Имя репозитория с данными.


Оставьте значения нижеперечисленных переменных пустыми, если вы не используете или Google Analytics или Facebook App или Twitter:

- **googleAnalyticsID**
Идентификатор отслеживания представляет собой строку вида UA-000000-2. Это обязательный элемент кода отслеживания, по которому Google Аналитика определяет, в какой аккаунт и ресурс передавать данные.  


- **fbAppID**
Чтобы воспользоваться статистикой Facebook, добавьте на страницу ID приложения. Статистика позволяет просматривать информацию о переходах на ваш сайт из Facebook. ID приложения указан в панели приложений.  


- **twitterSite**
- **twitterCreator**

### Языки

`uk` и `ru`


Файл: `[CONTENT_DIR]/config/locales.js`

По содержимому этого файла во время компиляции сайта добавляется префикс языка к адресам страниц, создается переключатель языков, SEO и многое другое.

Пример содержимого

```js
module.exports = {
  // входит в имя файла
  // например: index.uk.ru
  uk: {
    // язык сайта по умолчанию
    default: true,

    // язык страницы
    // 1. тег <html>
    // 2. <meta>
    // 3. sitemap.xml
    // 4. structured data  "@type": "WebSite" - inLanguage
    // 5. structured data  "@type": "WebPage", "Blog", "Article", "BlogPosting" - inLanguage
    htmlLang: 'uk', // uk-ua

    // формат вывода дат и чисел
    formatLocale: 'uk-UA',

    // 1. manifest.webmanifest - lang
    // 2. <meta> - язык OpenGraph
    ogLocale: 'uk_UA',

    name: 'Ukranian',

    // 1. пепеключатеь языков
    shortName: 'Укр',

    localName: 'Український',
    shortLocalName: 'Укр',

    dateFormat: 'dd.MM.yyyy',

    // 1. manifest.webmanifest - name
    // 2. alt для лого в хедере
    // 3. тег <title>, если поля title и metaTitle не заполнены
    // 4. structured data  "@type": "WebSite" - name
    siteTitle: 'КОМПАНІЯ «СНІЖНИЙ БАРС»',

    // 1. manifest.webmanifest - description
    // 2. <meta> - если не заполнены поля headline, metaDescription
    // 3. structured data "@type": "Organization" - description
    // 4. structured data  "@type": "WebSite" - description
    siteDescription:
      'Мы предлагаем широкий спектр услуг в сфере промальпа, заказывайте строительные работы на высоте от компании Снежный Барс.',
    
    // 1. manifest.webmanifest - short_name
    // 2. выводится рядом с лого в хедере
    siteShortName: 'СНІЖНИЙ БАРС',
  },

  // второй языык сайта
  // будет добавлен в URL
  ru: {
    htmlLang: 'ru', // ru-UA
```


### Поисковые роботы

По умолчанию индексирование поисковиками разрешено.

Если вы хотите, что бы ваш сайт был закрыт от индексирования, то в настройках Netlify надо присвоить переменной окружения **NO_INDEX** значение `true`.


#### Стратегия индексации страницы "Блог"

- Все страницы пагинации просматриваются роботами и индексируется.
- С проблемой дублирования контента разбирается поисковик.
- В хед страницы добавляются по необходимости линки с атрибутами `rel=next` и `rel=prev`.


Источник: [Google поменял rel=prev/next и все сломали пагинацию — Вот как всё исправить](https://ahrefs.com/blog/ru/rel-prev-next-pagination/)

### Компиляция

#### Режим разработки

Компилятор в режиме разработки использует файл переменных окружения `[PROJECT_DIR]/.env.development`.


В файле хранятся три переменных:

```env
LOCALES = uk ru
ONLY = / /inquiry/
WARNINGS = true
NO_INDEX = false
```

В `LOCALES` указываются языки, для которых будет генерироваться сайт. В качестве разделителя элеметов используется пробел.

Переменная `ONLY` позволяет ограничить количество создаваемых страниц и сократить время компиляции сайта в режиме разработки. Содержит `slug`-и страниц, которые будут скомпилированы. В качестве разделителя элеметов используется пробел.

Переменная `WARNINGS` - логическая: `true` или `false`, выдает или подавляет сообщения во время генерации страниц.

Переменная `NO_INDEX` - логическая: `true` или `false`. Если `true`, то в <HEAD> каждой страницы быдет добавлен мета-тег `noindex`, а в файл `robots.txt` и в хедер ответа сервера будут выданы запрещающие индексирование сайта директивы.

Для указанной выше конфигурации окружения сайт будет скомпилирован для двух языков `uk` и `ru`. Будут созданы четыре страницы с адресами `/`, `/inquiry`, `/ru/`, `/ru/inquiry`, а во время компиляции будут отображаться предупреждения, если что-то пойдет не так.


Список языков из `LOCALES` во время компиляции будет сопоставлен со списком доступных языков из `[CONTENT_DIR]/config/locales.js`. Если будет найдено несоответствие языков, то компиляция прекращается.

#### Режим продакшн

Во время компиляции будут созданы страницы для всех языков согласно списка из `[CONTENT_DIR]/config/locales.js`.

Язык по умолчанию должен иметь свойство `default = true`.

Если же не найдено свойство `default = true` ни для одного языка, то первый язык из списка будет принят как язык по умолчанию.

## Содержимое сайта

Все исходные данные сайта находятся в папке `[CONTENT_DIR]` на локальном компьютере. Изменения в файлах ослеживаются системой контроля версий - `Git`.


Вспомогательные данные хранятся в формате YAML в папке `[CONTENT_DIR]/data`. Из вспомогательных данных генерируются элементы страниц: меню, списки телефонов, переводы, адрес и тп.

Исходные данные для создания самих страниц храняться в файлах с расширением `.md` в формате Markdown.

Файлы с исходными данными - это только содержимое сайта. И больше ничего. Структуры в файлах нужны только для удобства хранения и редактирования.

На этапе компиляции эти данные будут прочитаны программой сборки, и в соответствии с логикой программы будут добавлены запрограммированные HTML-теги (H1, H2, P и тп) и отдельно заданы необходимые стили (размер шрифта, отступы, цвет и тд).

:bulb: Внешний вид на экране зависит только от заданного стиля, а не от тега. Внешний вид никак не связан с исходными данными.

Предлагается следующая организация хранения файлов страниц.
Для каждой страницы создается отдельная папка. В ней файлы с содержимым страниц и подпапка `./images` для хранения изображений.

:exclamation: Важно! Для каждой страницы сайта обязательно создавайте переведеную версию согласно языковых насторек сайта. Именуйте файлы так, чтобы результирующие пути отличались только префиксом языка.
Если у вас, например, указаны два языка в настройках сайта, то необходимо создавать по две версии страницы с совпадающим после префикса языка путем.

Шаблон полного имени файла:
`{ИМЯ-ФАЙЛА}.{locale}.md`

`{ИМЯ-ФАЙЛА}`: английский алфавит в нижнем регистре, без пробелов, точек или подчеркиваний.

Специальное имя **index** (объяснение в разделе **[Правила формирования путей](#правила-формирования-путей)**).

Пример правильно именованных файлов:

```file
index.uk.md
index.ru.md

home.uk.md
home.ru.md

services.uk.md
services.ru.md
```

## Устройство файла страницы

Внутри файл состоит из двух главных компонентов:

1. Frontmatter - обязательная начальная область файла страницы, обрамленная тремя тире `---` в начале и в конце. Наиболее близкий по смыслу перевод `Front Matter` на русский: `передний отдел`, `передняя часть`, `передний контент`. Frontmatter хранит внутри себя структурированные данные в формате YAML. Эти  данные используются кодом программы во время компиляции сайта для внедрения метатегов SEO и генерациии содержимого страницы по шаблону.
2. После Frontmatter-а идет собственно **основной текст** в формате Markdown.

### Основной текст

:bulb: Ознакомьтесь с форматом Markdown до начала редактирования!

### Встака видео с YouTube

```html
<iframe src="https://www.youtube.com/embed/2Y-LqBD2HN8" width="600" height="400"></iframe>
```

### Варианты вставки изображений

:bulb: Для быстродействия и SEO **всегда** оптимизируйте ваши изображения в графическом редакторе до публикаци на сайте, устанавливайте их размер согласно рекомендаций по документации и настраивайте качество.

Ширина генерируемых из Markdown изображений настраивается в файле `gatsby-config.js`, константа **maxWidth**.

```js
          {
            resolve: 'gatsby-remark-images',
            options: {
              /**
               * 1280px - current layout width
               * 896px - content column
               * for 100% width
               *
               */
              maxWidth: 896,
              quality: 50,
            },
```

:bulb: Чтобы изображение занимало всю длину колонки в материалах "Услуга", "Тип объекта" и "Пост" надо подготовить исходный файл с шириной не меньше `896px`.


#### Синтаксис Markdown

Предполагается, что изображения находятся рядом с самим документом в подпапке `/images`.

:exclamation: Важно для SEO! Всегда указывайте ALT текст для изображений, длина до 125 символов!

:bulb: Текст для всплывающей подсказки используется в **Google Images**, поэтому его желательно указывать.
  
:heavy_check_mark: хорошо:

```md
![Альтернативный текст изображения](./images/your-image.jpg "Необязательный текст для всплывающей подсказки")

![Альтернативный текст изображения](./images/your-image.jpg)
```

:x: плохо:

```md
![](./images/your-image.jpg)
```

#### Синтаксис HTML - тег **img**

Если вы не хотите стандартной обработки изображенией генератором статических сайтов или нужно задать особые стили, то поместите изображения в
папку `[PROJECT_DIR]/static/assets/images` отдельно от документа.

##### Одиночное изображение без стилей

:heavy_check_mark: хорошо:

```html
<img 
  src="assets/images/your-image.jpg" 
  alt="Альтернативный текст изображения" 
  title="Необязательный текст всплывающей подсказки"
/>

<img src="assets/images/your-image.jpg" alt="Альтернативный текст изображения"/>
```

:x: плохо:

```html

<img src="assets/images/your-image.jpg" alt="" />
```

##### С предустановленными стилями

1 ряд / 2 колонки для десктоп и в 2 ряда / 1 колонка для мобильного

```html
<div class="grid_2-col">
  <img src="assets/images/your-image-1.jpg" alt="Альтернативный текст 1" title="Всплывающая подсказка 1" />
  <img src="assets/images/your-image-2.jpg" alt="Альтернативный текст 2" />
</div>
```

1 ряд / 3 колонки для десктоп и в 3 ряда / 1 колонка для мобильного

```html
<div class="grid_3-col">
  <img src="assets/images/your-image-1.jpg" alt="Альтернативный текст 1" title="Всплывающая подсказка 1"/>
  <img src="assets/images/your-image-2.jpg" alt="Альтернативный текст 2" title="Всплывающая подсказка 2"/>
  <img src="assets/images/your-image-3.jpg" alt="Альтернативный текст 3" />
</div>
```

### Описание полей Frontmatter

Frontmatter внутри себя хранит данные в формате YAML.

Поле состоит из имени на английском и значения после двоеточия.
Поля могут иметь вложенную структуру, например поле **cover**.

Последовательность полей не существенна.

Важны отступы слева перед именем поля и соотношение отступов. Именно отступы и их соотношение задают структуру.

:bulb: Настоятельно рекомендуем ознакомиться с форматом YAML до начала работы с сайтом.

Представленные ниже поля **frontmatter** являются общими для **всех** страниц сайта.

Для комментария используется символ `#`. В реальных исходных данных сайта, как правило, комментарии отсутствуют.

```yaml
---
# Поле title обязательное, уникальное для каждой страницы сайта.
# Выводится с тегом H1
title: Заголовок страницы. По возможности в одно короткое предложение.

# Поле headline необязательное.
# Если есть, то уникальное для каждой страницы сайта.
headline: Описание страницы. 1-2 предложения.

# Поле metaTitle необязательное.
# Если есть, то уникальное для каждой страницы сайта.
#  Если отсутствует, то поле "title" будет использовано.
metaTitle: для SEO, до 60 сиволов.

# Поле metaDescription необязательное. 
# Если есть, то уникальное для каждой страницы сайта.
# Если отсутствует, то поле "headline" будет использовано.
metaDescription: для SEO, до 50-160 сиволов. 

# Поле cover необязательное. 
# Это поле составное. Состоит из трех вложенных полей.
cover:
  sm: НЕОБЯЗАТЕЛЬНЫЙ-ФАЙЛ-ИЗОБРАЖЕНИЯ-ДЛЯ-ВАШЕГО-ДОКУМЕНТА.jpg
  xl: НЕОБЯЗАТЕЛЬНЫЙ-ФАЙЛ-ИЗОБРАЖЕНИЯ-ДЛЯ-БОЛЬШИХ-ЭКРАНОВ.jpg
  # Поле alt
  # Текстовая информация отображается при отключенной загрузке графики в браузере.
  alt: для SEO, до 125 символов.
  title: Необязательный текст для всплывающей подсказки

# Поле slug необязательное
# только латинница и дефис
slug: уникальный идентификатор страницы
# Во время компиляции язык `ru` или `uk` автоматически добавляется к пути
# согласно настроек конфигурации сайта.

# Поле template необязательное
# только латинница и дефис
template: имя JavaScript-файла без расширения
# который будет использоваться, как шаблон страницы во время компиляции сайта

# Поле noindex необязательное
# Содержит логическое значение
noindex: `true` или `false` 
# Если `true`, то  в head добавляется метатег
# <meta name="robots" content="noindex, follow">
# и страница прячется от поисковых роботов

# Поле state необязательное
# Символьное значение, описывает состояние документа
# По умолчанию все документы сразу публикуются
# Если необходимо исключить документ из сайта, то присвойте ему статус черновика - `draft`
state: draft

# Поле datePublished необязательное
# Дата и время первой публикации документа в формате ISO 8601
# 29 ноября 2020 г, 23 часа 59 минут и 59 секунд
datePublished: 2020-11-29T23:59:59Z


# Поле dateModified необязательное
# Дата и время последнего редактирования документа в формате ISO 8601
# Если точность до секунд не нужна, то можно указать только дату 
# 31 декабря 2020 г
# dateModified может использоваться для построения карты сайта в качестве значения для lastmod
dateModified: 2020-12-31
---
```

:bulb: Если значение поля должно содержать двоеточие `:` или символ из этого списка (`{`, `}`, `[`, `]`, `,`, `&`, `*`, `#`, `?`, `|`, `-`, `<`, `>`, `=`, `!`, `%`, `@`), то такое значение надо обрамить кавычками. Подробнее в описании формата YAML.

:heavy_check_mark: хорошо:

```yaml
headline: "Описание страницы: продолжение описания после двоеточия"
```

:x: плохо:

```yaml
headline: Описание страницы: продолжение описания после двоеточия
```

### Правила формирования путей

Во время компиляции сайта применяется следующий алгоритм формирования пути:

1. Frontmatter содержит поле **slug**, тогда **slug** будет использован в качестве пути.
2. Frontmatter не содержит поле **slug** и имя самого файла не начинается со слова **index**, тогда имя файла будет использовано в качестве пути.
3. Frontmatter не содержит поле **slug**, а имя файла начинается со слова **index**, тогда имя родительской папки будет использовано в качестве пути.

Во время компиляции к пути, если необходимо, автоматически добавляется язык `ru` или `uk` согласно настроек конфигурации сайта.

## Страницы сайта

### Страница вида "Услуга"

Папка `[CONTENT_DIR]/services`

Отдельные подпапки для каждой услуги.

Рекомендуемый размер изображений

|  Где                         | Соотношение Ш : В    | Размер Ш x В, px
| ---                          | ---                  | ---
| Поле **cover** (frontmatter) |   1.83727034 x 1     | > 696 x 373
| Тело страницы (markdown)     |   1.83727034 x 1     | > 896 x 488


Если в теле страницы (markdown) исходное изображение шириной меньше 896px, то оно выравнивается по центру с отступами по краям.


:bulb: Согласно требований Google минимальная ширина картинки должна быть не меньше 696px. Иначе она не попадет в **Google Images**. Подробнее [здесь](https://developers.google.com/search/docs/advanced/guidelines/google-images?hl=ru).

### Страница вида "Тип объекта"

Общая папка: `[CONTENT_DIR]/object-types`

Отдельные подпапки для каждого типа объекта.  


Изображения аналогично странице вида "Услуга".

### Страница вида "Пост"

Папка: `[CONTENT_DIR]/blog/posts`

Отдельные подпапки для каждого поста.


Для страницы типа **Пост** в frontmatter добавлено дополнительное поле:

```yaml
---
...

# Поле **featured**, необязательное. 
# Содержит логическое значение `false` или `true`. 
# Если `true`, то этот пост будет отображен в сайдбаре в списке постов
featured: false    
---
```

Посты сортируются в порядке убывания даты публикации - поле **datePublished**, т.е. сначала показываются более новые.

Если у каких либо постов значение поля **featured** установлено `true`, то сначала выводятся такие посты.

:exclamation: Посты с незаполненной датой публикации ввыводятся первыми!

Изображения аналогично странице вида "Услуга".

### Собственно Страницы

Папка: `[CONTENT_DIR]/pages`

Как правило, страницы доступны из Главного меню или имеют особое назначение - например страницы "404" и "Конфиденциальность".

Страницы оформляются идивидуально. Для решения этой задачи содержимое страницы разбивается на секции (`sections`). Каждая секция состоит из заголовка (`title`), подзаголовка (`subtitle`), текста (`text`), изображения (`image`) и массива элементов (`items`).

В свою очередь элемент массива может состоять из заголовка (`title`), подзаголовка (`subtitle`), текста (`text`), изображения (`image`), имени иконки (`icon`) и адреса ссылки (`to`).

Это структурированное описание секций хранится в frontmatter в дополнение к общим полям.

Для каждого типа страниц на javaScript написан индивидуальный шаблон для вывода секций на экран.

Ниже приведено содержание frontmatter для типовой страницы.

```yaml
---
title: Заголовок страницы
headline: Описание страницы
metaTitle: Заголовок для поисковика
metaDescription: Описание для поисковика

cover:
  sm: НЕОБЯЗАТЕЛЬНЫЙ-ФАЙЛ-ИЗОБРАЖЕНИЯ-ДЛЯ-ВАШЕГО-ДОКУМЕНТА.jpg
  xl: НЕОБЯЗАТЕЛЬНЫЙ-ФАЙЛ-ИЗОБРАЖЕНИЯ-ДЛЯ-БОЛЬШИХ-ЭКРАНОВ.jpg
  alt: для SEO, до 125 символов. 
  title: Необязательный текст для всплывающей подсказки
template: необязательное
noindex: необязательное
slug: необязательное

# Поле sections содержит в себе список секций.
# Каждая секция начинается с отступа слева относительно поля sections и значка `-`.
sections:
  
  # Секция №1
  - title: Заголовок секции №1
    subtitle: Подзаголовок секции №1
    text: Текст 1. Может содержать в себе разметку HTML
    image:
      sm: ИЗОБРАЖЕНИЕ.jpg
      xl: ИЗОБРАЖЕНИЕ-ДЛЯ-БОЛЬШОГО-ЭКРНА.jpg
      alt: альтернативный текст    
      title: Необязательный текст для всплывающей подсказки
    
    # Поле items - cписок элементов секции.
    # Элемент секции начинается с отступа слева относительно поля items и значка `-`.
    items:
      # Элемент №1
      - title: Заголовок элемента №1
        subtitle: Подзаголовок элемента №1
        text: Текст элемента 1. Может содержать в себе разметку HTML
        to: Ссылка, например ссылка на русcкоязычную страницу Услуги "/ru/services/"
        icon: Имя иконки 
        image:
          sm: ИЗОБРАЖЕНИЕ-1.jpg
          xl: ИЗОБРАЖЕНИЕ-1-ДЛЯ-БОЛЬШОГО-ЭКРНА.jpg
          alt: альтернативный текст 1
          title: Необязательный текст для всплывающей подсказки

      # Элемент №2
      - title: Заголовок элемента №2
         ...

  # Секция №2
  - title: Заголовок секции №2
         ...
```

:bulb: Во все поля с именем **text** вы можете внедрять разметку HTML.

#### Главная страница

Папка: `[CONTENT_DIR]/pages/home`

Файлы: `home.uk.md` и `home.ru.md`


Ниже пример содержимого frontmatter `Главной страницы` с пояснениями.

```yaml
---
# Поле title обязательно для каждой страницы сайта
# Выводится с тегом H1
#
# На Главной странице -  после слайдера
#
title: ПРОМЫШЛЕННЫЙ АЛЬПИНИЗМ И ВЫСОТНЫЕ РАБОТЫ 

# Поле headline необязательное
# Выводится после поля title
# Так как поле содержит двоеточие, поэтому нужны кавычки
headline: "По покраске и ремонту антикоррозионной защиты конструкций на любой высоте: от восстановления поврежденных участков, подготовки и очистки поверхности до нанесения финишного слоя."

metaTitle: Промышленный альпинизм и высотные работы, промальп | Снежный Барс
# значек `|` позволяет ввести значение поля с новой строки. 
metaDescription: |
Услуги промышленного альпинизма по Украине, заказывайте строительные работы на высоте 
☎+38 (096) 555-30-92 от компании Снежный Барс.

# Поле slug игнорируется, его значение устанавливается в коде программы и всегда равно "/"

# Поле template для Главной страницы всегда home
template: home

# Поле cover не используется


# Всего 6 секций на Главной странице.
# Последовательность секций важна, т.к. для компиляции Главной страницы 
# запрограммирован индивидуальный шаблон на JavaScript
sections:

  # Секция №1: Слайдер
  # список элементов секции №1
  - items:
    # Cлайд 1
    - title: МЕХАНИЗИРОВАННАЯ ОЧИСТКА
      image:
        # Неинформативное имя файла - плохо для поисковика
        sm: ./images/s1.jpg
        # Отсутствует альтернативный текст - плохо для поисковика
        alt: 

    # Cлайд 2
    - title: ПОКРАСКА КРАНОВ
      image:
        # Неинформативное имя файла - плохо для поисковика
        sm: ./images/s2.jpg
        # Отсутствует альтернативный текст - плохо для поисковика
        alt: 

    # Cлайд 3
    - title: ПРОФЕССИОНАЛЬНЫЙ ПОДХОД
      image:
        # буква 'm' в конце имени файла - плохо
        sm: ./images/arenda-i-prodazha-oborudovaniya-m.jpg
        # Отсутствует альтернативный текст - плохо для поисковика        
        alt: 

    # Cлайд 4
    - title: МЕХАНИЗИРОВАННАЯ ШПАКЛЕВКА
      image:
        sm: ./images/s4.jpg
        alt: 

    # Cлайд 5
    - title: АНТИКОРОЗИОННАЯ ЗАЩИТА
      image:
        sm: ./images/s5.jpg
        alt:
  
  # Секция №2: Типы объектов
  # Сам список типов объектов формируется автоматически из пунктов подменю "Типы объектов"
  # title секции №2 выводится с тегом H2  
  - title: МЫ РАБОТАЕМ С РАЗЛИЧНЫМИ ТИПАМИ ОБЪЕКТОВ
    text: |
      Мы обладаем опытом работы с такими объектами и хорошо знаем специфику работ с ними.
      <br>
      В каждом случае требуется индивидуальный подход к подбору химии и оборудования.


  # Секция №3: Триптих 
  # Триптих на Главной странице не имеет заголовка
  # список элементов секции №3
  - items:
      # title выводится с тегом DIV  
      - title: СОВРЕМЕННЫЕ ТЕХНОЛОГИИ
        text: Современные технологии и оборудование, которые мы используем в работе,
        дают возможность быстро реализовывать масштабные проекты на любой высоте, 
        независимо от количества объектов и расстояний между ними.
      - image:
          sm: ./images/work.jpg
          alt:
      # title выводится с тегом DIV  
      # на десктопе `title` выводится после `text`
      - title: ВЫСОКАЯ СКОРОСТЬ
        # Поле text
        # Это поле содержит теги HTML `p` для оформления параграфов
        # <p>  - начало параграфа 
        # </p> - конец параграфа 
        text: |
          <p>
            Это существенно минимизирует время исполнения заказа, 
            и не наносит ущерба качеству работы.
          </p>
          <p>
            Мобильность групп специалистов и высокая скорость развертывания комплекса 
            позволяет нам обслуживать даже несколько объектов на предприятии одновременно.
          </p>
    # Поле `text` выводится после поля `items`
    text: |
      <p>
        Нам не нужны громоздкая подъемная техника, строительные леса и люльки. 
        Мы используем высококлассное альпинистское снаряжение. 
        Это существенно снижает стоимость высотных работ и их длительность. 
        Кроме того, промышленный альпинизм позволяет производить работы в 
        труднодоступных местах и быстро красить сложные поверхности.
      </p>
      <p>
        Мы работаем в три смены и нередко выполняем заказы в нерабочее время. 
        Например, днем ваше предприятие сможет функционировать в обычном режиме. 
        А наши специалисты-высотники проведут ремонтные работы вечером или ночью.
      </p> 


  # Секция №4
  # title секции №4 выводится с тегом H2  
  - title: ВСЕ РАБОТЫ ОТ «А» до «Я»
    # список элементов секции №4
    items:
      # title выводится с тегом H3
      - title: ОЧИСТКА ПОВЕРХНОСТИ
        text: |
          Аппаратный способ очистки от химических и механических загрязнений – это не только 
          способ придать конструкции опрятный вид. Но и ключевой элемент защиты от 
          коррозионных  процессов. Наши промышленные альпинисты используют лучшие аппараты 
          высокого и сверхвысокого давления. менно благодаря такой очистке поверхности перед 
          нанесением защитного слоя, он будет долго и крепко держаться.
        image:
          sm: ./images/e1.jpg
          alt:
      # title выводится с тегом H3
      - title: АНТИКОРРОЗИОННАЯ ОБРАБОТКА
        text: |
          При эксплуатации металлоконструкций, местами могут возникать участки коррозии. 
          В этом случае нужно приостановить или замедлить разрушение металла. 
          Поврежденные участки необходимо зачистить и обработать преобразователем ржавчины. 
          Это создает на таких участках металлоконструкции пленку, которая изолирует этот 
          участок от доступа кислорода. 
          И, таким образом, консервирует коррозийные процессы.
        image:
          sm: ./images/e2.jpg
          alt:
      # title выводится с тегом H3
      - title: ЗАЩИТА ОТ АГРЕССИВНОЙ СРЕДЫ
        text: |
          Механизированная покраска и нанесение защитных покрытий безвоздушным способом 
          оптимальна для многих объектов с агрессивными условиями эксплуатации. 
          Как для сложных металлоконструкций, так и для железобетонных поверхностей, 
          такая технология позволяет качественно покрасить огромные объемы в кратчайшие 
          сроки. А значит – минимизировать потери, связанные с простоем производственных 
          мощностей предприятия.
        image:
          sm: ./images/e3.jpg
          alt:
      # title выводится с тегом H3
      - title: СПЕЦИАЛЬНЫЕ ПОКРЫТИЯ
        text: |
          Благодаря покрасочным станциям и опыту наших специалистов, мы смогли механизировать 
          процесс нанесения различных тяжелых материалов. Например, гуммирование жидкой 
          резиной, нанесение штукатурки, декоративных покрытий и огнезащиты. 
          А также, покрытие новейшими полимерными промышленными материалами — самые 
          востребованные услуги в нашей сфере.
        image:
          sm: ./images/e4.jpg
          alt:


  # Секция №5
  # title секции №5 выводится с тегом H2
  - title: НАС РЕКОМЕНДУЮТ
    subtitle: |
      Наша компания известна десяткам крупных предприятий, как добросовестный 
      и надежный подрядчик.
    # список элементов секции №5
    items:
      # title выводится с тегом DIV размер текста 110%       
      - title: Гк «Агропросперіс»
        text: Відновлення антикоррозійного захисту<br>металлоконструкций элеваторів — 5420 м2
        image:
          # Кириллица и пробелы в имени файла - это очень плохо
          # А из-за пробелов в имени файла для обрамления значения нужны кавычки
          sm: "./images/антикорозійний захист металоконструкцій елеватора.jpg"
          alt:
      # title выводится с тегом DIV размер текста 110%   
      - title: Група компаній «МХП»
        text: Очистка скляного фасада — 1100 м2<br>м. Ладижин, 2016-2020рр.
        image:
          sm: "./images/Мийка скляного фасаду.jpg"
          alt:
      # title выводится с тегом DIV размер текста 110%  
      - title: СМЦ «Метінвест»
        text: Фарбування козлових кранів — 5 шт.<br>м Бровари, 2017р
        image:
          sm: "./images/Фарбування козлого крану.jpg"
          alt:


  # Секция №6
  # title секции №6 выводится с тегом H2
  - title: НАШЕ КРЕДО
    text: |
      Наши специалисты применяют только самые передовые технологий в области промышленного 
      альпинизма и антикоррозийной защиты. А непрерывное развитие компании гарантирует 
      максимум безопасности и оперативности. Как с клиентами, так и партнерами, 
      мы придерживаемся четырех основных принципов сотрудничества:
    # список элементов секции №6
    items:
      # title выводится с тегом H3
      - title: ЧЕСТНОСТЬ
        # Поле icon
        # иконки задаются в коде прграммы
        icon:  thumbsUp
        text: |
          Мы ведем политику «Прозрачного ценообразования». Еще до начала работ, мы честно 
          проведем расчеты по вашему объекту. Вы не столкнетесь со скрытыми доплатами 
          или непредвиденными расходами.
          Мы сообщим вам конечную стоимость услуги до момента заключения сделки. 
          При необходимости, раскроем и объясним вам все этапы работ по проекту 
          и издержки, связанные с их выполнением.
      # title выводится с тегом H3    
      - title: КАЧЕСТВО
        icon:  check
        text: |
          Качество работ неразрывно связано с опытом персонала. Наши сотрудники любят свою 
          работу и трудятся с высокой самоотдачей. 
          Именно поэтому, наше предприятие не испытывает текучести кадров. 
          Все сотрудники работают у нас уже много лет. Кроме того, они обладают высокой 
          внутренней мотивацией и чувством ответственности. Мы ориентированы на результат и 
          правильно понимаем ожидания наших клиентов. Вы можете рассчитывать на долгий срок 
          службы обработанных нами объектов.
      # title выводится с тегом H3
      - title: СКОРОСТЬ
        icon:  plane
        text: |
          Высокая производительность и оперативность выполнения работ – наше главное 
          конкурентное преимущество. Мы ценим время и знаем, как это важно для наших 
          клиентов. При необходимости, мы готовы организовать даже трёхсменную работу 
          на объекте. Кроме того, мы обладаем качественным современным оборудованием. 
          Которое рассчитано на работу с крупными объектами и большими объемами.
      # title выводится с тегом H3        
      - title: ОТВЕТСТВЕННОСТЬ
        icon:  users
        text: |
          Мы уверены в качестве работы наших сотрудников и надежности используемых 
          материалов. Именно поэтому, мы готовы нести за них ответственность в виде 
          гарантийных сроков эксплуатации. В зависимости от вида работ и типа объекта, 
          мы всегда рассчитываем гарантированный срок службы. В течении которого, все 
          риски покрываются за наш счет.        
---
```

Рекомендуемые размеры изображений

| № секции  | Имя секции                | Соотношение Ш : В    | Размер Ш x В, px
| ---       |---                        | ---                  | ---
| 1         | Слайдер                   | 2.763636364 : 1      | 1216 x 440
| 3         | Триптих                   | 1.85 : 1             | 592 x 320
| 4         | ВСЕ РАБОТЫ ОТ «А» до «Я»  | 1 : 1                | 200 x 200
| 5         | НАС РЕКОМЕНДУЮТ           | 3 : 1                | 1216 x 405.33



#### Cтраница "Услуги"

Папка: `[CONTENT_DIR]/pages/services`

Файлы: `services.uk.md` и `services.ru.md`

Поле **cover** из Frontmatter не отображается.


На странице отображается список услуг из папки `[CONTENT_DIR]/services` в соответствии с подменю первого пункта Главного меню.

В зависимости от разрешения экрана услуги выводятся в одну, две или три колонки.

:warning: На старом сайте была отдельная страница "Услуги для предприятий". На новом теперь одна общая страница "Услуги". Для сохранения старой ссылки создан постоянный редирект.

|   Откуда                  | Куда       | Статус
|---                        |---         |---
| /dlya-predpriyatijh       | /services  | 301

*Файл с редиректами: `[PROJECT_DIR]/static/_redirects`*

#### Cтраница "Типы объектов"

Папка: `[CONTENT_DIR]/pages/object-type-list`

Файлы: `object-type-list.uk.md` и `object-type-list.ru.md`


Поле **cover** из Frontmatter не отображается.

Поле **template**: `object-type-list`.

На странице отображается список типов объектов из папки `[CONTENT_DIR]/object-types` в соответствии с подменю второго пункта Главного меню.

В зависимости от разрешения экрана типы объектов выводятся в одну, две или три колонки.

#### Cтраница "Прайс"

Папка: `[CONTENT_DIR]/pages/price-list`

Файлы: `price-list.uk.md` и `price-list.ru.md`


Frontmatter cодержит одну секцию со списком позиций прайс-листа.



#### Cтраница "Блог"

Папка: `[CONTENT_DIR]/blog/pages/blog`

Файлы: `blog.uk.md` и `blog.ru.md`


Поле **cover** из Frontmatter не выводится.

На странице отображается постраничный список всех постов из папки `[CONTENT_DIR]/blog/posts`.

Список постов сортируется по дате публикации: поле `datePublished` из Frontmatter.

Количество постов на одной странице задается константой `CARDS_PER_PAGE` в конфигурации сайта. По умолчанию - 12.

В зависимости от разрешения экрана посты выводятся в одну, две или три колонки.


#### Cтраница "О нас"

Папка: `[CONTENT_DIR]/pages/about`

Файлы: `about.uk.md` и `about.ru.md`


Поле **cover** из Frontmatter не выводится.

Содержимое Markdown **НЕ** выводится.

Выводятся только три секции из Frontmatter.


Рекомендуемые размеры изображений

| № секции  | Имя секции                | Соотношение Ш : В    | Размер Ш x В, px
| ---       |---                        | ---                  | ---
| 1         | Триптих                   |  1.85 : 1            | 592 x 320



#### Cтраница "Контакты"

Папка: `[CONTENT_DIR]/pages/contacts`

Файлы: `contacts.uk.md` и `contacts.ru.md`

Формируется полностью программно из содержимого Frontmatter.

Поле **cover** из Frontmatter не выводится.

Содержимое Markdown **НЕ выводится**.

Данные для страницы "Контакты" хранятся во вспомогательных файлах:

- `contacts.yaml`
- `address.{locale}.yaml`



#### Cтраница "Конфиденциальность"

Папка: `[CONTENT_DIR]/pages/privacy`

Файлы: `privacy.uk.md` и `privacy.ru.md`



#### Cтраница "Послать запрос"

Папка: `[CONTENT_DIR]/pages/inquiry`

Файлы: `inquiry.uk.md` и `inquiry.ru.md`

Формируется полностью программно.

Поле **cover** из Frontmatter не выводится.

Содержимое Markdown **НЕ выводится**.


#### Cтраница "404"

Папка: `[CONTENT_DIR]/pages/404`

Файлы: `404.uk.md` и `404.ru.md`


Поле **cover** из Frontmatter не выводится.

Поле **noindex** игнорируется и всегда `true`.

:warning: Для русскоязычных ненайденных страниц задан редирект:

|   Откуда     | Куда       | Статус
|---           |---         |---
| /ru/*        |  /ru/404   | 404

*Файл с редиректами: `[PROJECT_DIR]/static/_redirects`*



#### Cтраница "Услуги для частного клиента"

Папка: `[CONTENT_DIR]/pages/services-for-private-clients`

Файлы: `services-for-private-clients.uk.md` и `services-for-private-clients.ru.md`

Перейти на эту страницу можно по ссылке со страницы "Услуги"



## Данные для формирования элементов сайта

### Общие для всех языков

Папка: `[CONTENT_DIR]/data/`

Файл: `contacts.yaml`

Из этого файла формируются:

- структурированные данные о компании в формате JSON-LD на главной странице основного языка (описание [здесь](https://developers.google.com/search/docs/data-types/local-business?hl=ru));
- время работы и карта на странице Контакты;
- время работы, e-mail и телефоны в футере;
- начальный год копирайта в футере.
  
#### Список полей

|   Поле           | Назначение         |   Organization | LocalBusiness | Описание
|---               |---                 |---             |---            |---
| organizationType | SEO                |                |               | [Organization](https://schema.org/Organization), [LocalBusiness](https://schema.org/LocalBusiness)
| geo              | SEO                | нет            | да            | [географические координаты](https://schema.org/geo)
| hasMap           | SEO                | нет            | да            | [ссылка на Google-карты](https://schema.org/hasMap)
| whatsapp         | страница Контакты  |                |               |
| telegram         | страница Контакты  |                |               |
| phone            | SEO                | да             | да            | [телефон](https://schema.org/telephone) список цифровых значений, разделитель элементов `,`
| e-mail           | SEO                | да             | да            | [почта](https://schema.org/email) список, разделитель элементов `,`
| openingHours       | страница "Контакты" и SEO     | да | да | [рабочее время](https://schema.org/openingHours), преобразуется в `OpeningHoursSpecification`
| priceRange         | SEO                           | нет | да | [диапазон цен](https://schema.org/priceRange), валидные значения: `$`, `$$`, `$$$`, `$$$$`
| currenciesAccepted | SEO                           | нет | да | [валюты, принимаемая к оплате](https://schema.org/currenciesAccepted)
| paymentAccepted    | SEO                           | нет | да | [способы оплаты](https://schema.org/paymentAccepted)
| foundingDate     | футер и SEO        | да             | да            | [дата основания](https://schema.org/foundingDate) в формате ISO 8601

Поля **e-mail** и **phone** участвуют в структурированных данных для **Organization** или **LocalBusiness**. Используется только первый элемент массива.


:bulb: Номер телефона допускает только цифры, без плюса спереди, без пробелов, скобок и прочих символов.

Сокращенный пример содержимого:

```yaml
organizationType: LocalBusiness

geo:
  latitude: 49.23454640153842
  longitude: 28.449501642271482

hasMap: "https://www.google.com/maps?cid=9873758708945954150"

embedMap: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2605.2160827083967!2d28.447259316468088!3d49.23439227932624!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x472d5b6afddf5ffb%3A0x8906a33b7ca4a566!2z0J_RgNC-0LzRi9GI0LvQtdC90L3Ri9C5INCw0LvRjNC_0LjQvdC40LfQvCAi0KHQvdC10LbQvdGL0Lkg0JHQsNGA0YEi!5e0!3m2!1sru!2sua!4v1612028807248!5m2!1sru!2sua"

phone: [380965553092, 380979705376, 380432573695]

email: [promalp.s.bars@gmail.com, andrey.karpenko7@gmail.com]

openingHours:
  - ["mo-sa", "09:00", "18:00"]
  - ["su", "00:00", "00:00"]

foundingDate: 2009-01-01

```

#### Поле **openingHours** (Рабочее время)

Формат поля: список элементов, состоящий из дня недели, времени начала и окончания рабочего дня.

День недели - двухбуквенная аббревиатура на английском языке.

Время - в формате "24 часа".

```yaml
openingHours:
  - ["mo", "10:00", "18:00"]
  - ["tu", "10:00", "18:00"]
  - ["we", "10:00", "18:00"]
  - ["th", "10:00", "18:00"]
  - ["fr", "10:00", "18:00"]
```

Совпадающее рабочее время с понедельника по пятницу с 10:00 до 18:00 можно записать короче

```yaml
openingHours:
  - ["mo-fr", "10:00", "18:00"]
```

Если в какой-то день вы работаете 24 часа в сутки, то укажите время с `00:00` до `23:59`.

Пример оформления для круглосуточной работы в среду:

```yaml
openingHours:
  - ["we", "00:00", "23:59"]
```

Для выходного дня укажите время начала и окончания `00:00`.

Пример оформления для выходного дня в воскресенье:

```yaml
openingHours:
  - ["su", "00:00", "00:00"]
```

Пример оформления для выходного дня в субботу и воскресенье:

```yaml
openingHours:
  - ["sa, su", "00:00", "00:00"]
```

### Языкозависимые данные

Папка: `[CONTENT_DIR]/data/locales`

| Что                | Подпапка        | Имя файла            | Комментарий
| ------------       | --------------- | -------------------  | -------------------
| Главное меню       | ./main-nav      | main-nav.uk.yaml     |
|                    |                 | main-nav.ru.yaml     |
| Навигация в футере | ./footer-nav    | footer-nav.uk.yaml   |
|                    |                 | footer-nav.ru.yaml   |
| Ссылки на соц.сети | ./social-links  | social-links.uk.yaml | Facebook, Intagram и тд
|                    |                 | social-links.ru.yaml |
| Адрес              | ./address       | address.uk.yaml      | Официальное название организации, почтовый адрес, подробное описание контактов
|                    |                 | address.ru.yaml      |
| Переводы           | ./translations  | translations.uk.yaml | Для внутреннего использования
|                    |                 | translations.ru.yaml |


#### Навигация в футере

Список полей

|   Поле       | Описание
|---           |---
| to           | путь к странице без префикса языка, но со слешем в конце. Пример: `/services/`
| title        | название ссылки


#### Главное меню

Список полей

|   Поле       | Описание
|---           |---
| to           | путь к странице без префикса языка, но со слешем в конце. Пример: `/contacts/`
| title        | название ссылки
| submenu      | составное поле, подменю c подпунктами **to** и **title**

:warning: Последовательность пуктов главного меню важна! Запрограммировано так, что первый пункт Главного меню будет **Услуги**, а второй **Типы объектов**.

Из подменю пункта **Услуги** создается список услуг для страницы `Услуги`, для сайдбара на странице "Пост" и на странице конкретной услуги.

Соответственно из подменю пункта **Типы объектов** создается список типов объектов для `Главной` страницы, для страницы `Типы объектов` и список типов объектов для сайдбара на странице конкретного типа объекта.


#### Ссылки на социальные сети

Ссылки на профили в соц.сетях отображаются в футере сайта в виде иконок.

Список полей

|   Поле       | Описание
|---           |---
| to           | ссылка на ваш профиль в социальной сети
| title        | всплывающая подсказка
| code         | код соц.сети


При наведении курсора мыши на иконку выводится всплывающая подсказка (поле **title**).


:warning: Поле **код** используется для построения SEO и для вывода иконки.

Для добавления соц.сетей, отличных от Instagram и Facebook, нужен программист.


#### Адрес

Содержимое этого файла используется на странице "Контакты" и SEO.

Поле **e-mail** в виде списка, разделитель элементов списка запятая `,`.



Поле **telephone** в виде списка цифровых значений, разделитель элементов списка запятая `,`.

:bulb: Номер телефона допускает только цифры, без плюса спереди, без пробелов, скобок и прочих символов.

Пример содержимого:

```yaml
name: Сніговий Барс
alternateName: Компанія «Сніговий Барс»
legalName: Промисловий альпінізм Сніговий Барс
description: На будь-якому з етапів виконання будівельного плану, клінінгових і ремонтних робіт послуги промислових альпіністів компанії «Сніговий Барс» будуть максимально вигідним для Вас рішенням


postalAddress:
  streetAddress:
    - Хмельницьке шосcе, 2а, оф.110
  addressLocality:  Вінниця
  addressRegion: Вінницька обл.
  postalCode: 21036
  addressCountry: Україна

contactPoint:
  - name: Світлана Доляк
    description: Фарбування металоконструкцій, фасадів і т.д.
    contactType: відділ роботи з клієнтом
    telephone: [380965553092]
    email: [promalp.s.bars@gmail.com]
  - name: Андрій Карпенко
    description: Утеплення квартир
    contactType: клієнт-менеджер
    telephone: [380979705376, 380432573695]
    email: [andrey.karpenko7@gmail.com]
```

#### Переводы

Переводы используются только в коде программы. Поэтому не предполагается их редактирование.

Если все же возникла такая потребность, то:

- Отредактируйте соответствующий `JSON` файл в папке `[CONTENT_DIR]/data/locales/translations/src/`.
- Зайдите в командную строку, перейдите в папку `[PROJECT_DIR]` и выполните команду `yarn trans`.
  Эта команда запустит javascript-скрипт, который преобразует файл c переводами из формата `JSON` в `YAML` (Вам потребуется предварительно установить на локальный компьютер **nodejs** и **yarn**).

  :bulb: Для автоматического обновления переводов во время `commit`-a потребуется дополнительно установить **husky** и **lint-staged**.
- выполните действия из раздела **[Публикация изменений](#публикация-изменений)**.

## TO-DO

Seo Site Checkup

### Заказать SEO-аудит у сторонней компании

### Логотип

Ваш логотип хорош для печати на футболке или рекламном щите. В хедере сайта он плохо читаем, а favicon вообще нельзя понять.

Нужно разработать второй логотип на основе существующего, оптимизированный для сйта.


### Оживить блог

- Пользователь
  - 1 новый пост в неделю.
- Программист
  1. В первую очередь
       - Добавить автора (SEO для Google).
       - Показывать дату публикации и, если надо, дату модификации (SEO для Google).
  1. Потом
       - Добавить Теги и/или Категории - увеличит ссылочную массу.
       - Переделать страницу Блог.
       - Переделать страницу Пост - добавить снизу `Похожие посты`.
       - Переделать Главную - добавить и/или Featured posts, Latest posts.
       - Сделать отдельные страницы и навигацию по Годам, Тегам и Категориям.
       - Виджеты Latest posts, Featured posts.

### Хлебные крошки

- Программист
  - Сделать навигацию в хедере страниц.
    - Услуги: `home / services / service-name`.
    - Типы объектов: `home / services / service-name`.
    - Блог: `home / blog / category / article-name`.
  - Структурированные данные Breadcrumbs (SEO для Google).
  - Редиректы на хостинге.
